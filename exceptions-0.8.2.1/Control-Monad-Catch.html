<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Control.Monad.Catch</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Control-Monad-Catch.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">exceptions-0.8.2.1: Extensible optionally-pure exceptions</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>(C) Edward Kmett 2013-2015, (c) Google Inc. 2012</td></tr><tr><th>License</th><td>BSD-style (see the file LICENSE)</td></tr><tr><th>Maintainer</th><td>Edward Kmett &lt;ekmett@gmail.com&gt;</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>non-portable</td></tr><tr><th>Safe Haskell</th><td>Trustworthy</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">Control.Monad.Catch</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Typeclass</a></li><li><a href="#g:2">Utilities</a></li><li><a href="#g:3">Re-exports from Control.Exception</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module supports monads that can throw extensible exceptions. The
 exceptions are the very same from <a href="../base-4.8.2.0/Control-Exception.html">Control.Exception</a>, and the operations
 offered very similar, but here they are not limited to <code><a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a></code>.</p><p>This code is in the style of both transformers and mtl, and is compatible
 with them, though doesn't mimic the module structure or offer the complete
 range of features in those packages.</p><p>This is very similar to <code><a href="../mtl-2.2.1/Control-Monad-Error.html#t:ErrorT">ErrorT</a></code> and <code>MonadError</code>, but based on features of
 <a href="../base-4.8.2.0/Control-Exception.html">Control.Exception</a>. In particular, it handles the complex case of
 asynchronous exceptions by including <code><a href="Control-Monad-Catch.html#v:mask">mask</a></code> in the typeclass. Note that the
 extensible exceptions feature relies on the RankNTypes language extension.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">class</span> <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="#t:MonadThrow">MonadThrow</a> m <span class="keyword">where</span><ul class="subs"><li><a href="#v:throwM">throwM</a> :: <a href="Control-Monad-Catch.html#t:Exception">Exception</a> e =&gt; e -&gt; m a</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> m =&gt; <a href="#t:MonadCatch">MonadCatch</a> m <span class="keyword">where</span><ul class="subs"><li><a href="#v:catch">catch</a> :: <a href="Control-Monad-Catch.html#t:Exception">Exception</a> e =&gt; m a -&gt; (e -&gt; m a) -&gt; m a</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m =&gt; <a href="#t:MonadMask">MonadMask</a> m <span class="keyword">where</span><ul class="subs"><li><a href="#v:mask">mask</a> :: ((<span class="keyword">forall</span> a. m a -&gt; m a) -&gt; m b) -&gt; m b</li><li><a href="#v:uninterruptibleMask">uninterruptibleMask</a> :: ((<span class="keyword">forall</span> a. m a -&gt; m a) -&gt; m b) -&gt; m b</li></ul></li><li class="src short"><a href="#v:mask_">mask_</a> :: <a href="Control-Monad-Catch.html#t:MonadMask">MonadMask</a> m =&gt; m a -&gt; m a</li><li class="src short"><a href="#v:uninterruptibleMask_">uninterruptibleMask_</a> :: <a href="Control-Monad-Catch.html#t:MonadMask">MonadMask</a> m =&gt; m a -&gt; m a</li><li class="src short"><a href="#v:catchAll">catchAll</a> :: <a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m =&gt; m a -&gt; (<a href="Control-Monad-Catch.html#t:SomeException">SomeException</a> -&gt; m a) -&gt; m a</li><li class="src short"><a href="#v:catchIOError">catchIOError</a> :: <a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m =&gt; m a -&gt; (<a href="../base-4.8.2.0/System-IO-Error.html#t:IOError">IOError</a> -&gt; m a) -&gt; m a</li><li class="src short"><a href="#v:catchJust">catchJust</a> :: (<a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m, <a href="Control-Monad-Catch.html#t:Exception">Exception</a> e) =&gt; (e -&gt; <a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> b) -&gt; m a -&gt; (b -&gt; m a) -&gt; m a</li><li class="src short"><a href="#v:catchIf">catchIf</a> :: (<a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m, <a href="Control-Monad-Catch.html#t:Exception">Exception</a> e) =&gt; (e -&gt; <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; m a -&gt; (e -&gt; m a) -&gt; m a</li><li class="src short"><span class="keyword">data</span> <a href="#t:Handler">Handler</a> m a = <span class="keyword">forall</span> e . <a href="Control-Monad-Catch.html#t:Exception">Exception</a> e =&gt; <a href="#v:Handler">Handler</a> (e -&gt; m a)</li><li class="src short"><a href="#v:catches">catches</a> :: (<a href="../base-4.8.2.0/Data-Foldable.html#t:Foldable">Foldable</a> f, <a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m) =&gt; m a -&gt; f (<a href="Control-Monad-Catch.html#t:Handler">Handler</a> m a) -&gt; m a</li><li class="src short"><a href="#v:handle">handle</a> :: (<a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m, <a href="Control-Monad-Catch.html#t:Exception">Exception</a> e) =&gt; (e -&gt; m a) -&gt; m a -&gt; m a</li><li class="src short"><a href="#v:handleAll">handleAll</a> :: <a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m =&gt; (<a href="Control-Monad-Catch.html#t:SomeException">SomeException</a> -&gt; m a) -&gt; m a -&gt; m a</li><li class="src short"><a href="#v:handleIOError">handleIOError</a> :: <a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m =&gt; (<a href="../base-4.8.2.0/System-IO-Error.html#t:IOError">IOError</a> -&gt; m a) -&gt; m a -&gt; m a</li><li class="src short"><a href="#v:handleJust">handleJust</a> :: (<a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m, <a href="Control-Monad-Catch.html#t:Exception">Exception</a> e) =&gt; (e -&gt; <a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> b) -&gt; (b -&gt; m a) -&gt; m a -&gt; m a</li><li class="src short"><a href="#v:handleIf">handleIf</a> :: (<a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m, <a href="Control-Monad-Catch.html#t:Exception">Exception</a> e) =&gt; (e -&gt; <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; (e -&gt; m a) -&gt; m a -&gt; m a</li><li class="src short"><a href="#v:try">try</a> :: (<a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m, <a href="Control-Monad-Catch.html#t:Exception">Exception</a> e) =&gt; m a -&gt; m (<a href="../base-4.8.2.0/Data-Either.html#t:Either">Either</a> e a)</li><li class="src short"><a href="#v:tryJust">tryJust</a> :: (<a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m, <a href="Control-Monad-Catch.html#t:Exception">Exception</a> e) =&gt; (e -&gt; <a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> b) -&gt; m a -&gt; m (<a href="../base-4.8.2.0/Data-Either.html#t:Either">Either</a> b a)</li><li class="src short"><a href="#v:onException">onException</a> :: <a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m =&gt; m a -&gt; m b -&gt; m a</li><li class="src short"><a href="#v:bracket">bracket</a> :: <a href="Control-Monad-Catch.html#t:MonadMask">MonadMask</a> m =&gt; m a -&gt; (a -&gt; m b) -&gt; (a -&gt; m c) -&gt; m c</li><li class="src short"><a href="#v:bracket_">bracket_</a> :: <a href="Control-Monad-Catch.html#t:MonadMask">MonadMask</a> m =&gt; m a -&gt; m b -&gt; m c -&gt; m c</li><li class="src short"><a href="#v:finally">finally</a> :: <a href="Control-Monad-Catch.html#t:MonadMask">MonadMask</a> m =&gt; m a -&gt; m b -&gt; m a</li><li class="src short"><a href="#v:bracketOnError">bracketOnError</a> :: <a href="Control-Monad-Catch.html#t:MonadMask">MonadMask</a> m =&gt; m a -&gt; (a -&gt; m b) -&gt; (a -&gt; m c) -&gt; m c</li><li class="src short"><span class="keyword">class</span> (<a href="../base-4.8.2.0/Data-Typeable-Internal.html#t:Typeable">Typeable</a> * e, <a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> e) =&gt; <a href="#t:Exception">Exception</a> e <span class="keyword">where</span><ul class="subs"><li><a href="#v:toException">toException</a> :: e -&gt; <a href="Control-Monad-Catch.html#t:SomeException">SomeException</a></li><li><a href="#v:fromException">fromException</a> :: <a href="Control-Monad-Catch.html#t:SomeException">SomeException</a> -&gt; <a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> e</li><li><a href="#v:displayException">displayException</a> :: e -&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:SomeException">SomeException</a> :: * <span class="keyword">where</span><ul class="subs"><li><a href="#v:SomeException">SomeException</a> :: <a href="Control-Monad-Catch.html#t:Exception">Exception</a> e =&gt; e -&gt; <a href="Control-Monad-Catch.html#t:SomeException">SomeException</a></li></ul></li></ul></div><div id="interface"><h1 id="g:1">Typeclass</h1><div class="doc"><p>The mtl style typeclass</p></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a name="t:MonadThrow" class="def">MonadThrow</a> m <span class="keyword">where</span></p><div class="doc"><p>A class for monads in which exceptions may be thrown.</p><p>Instances should obey the following law:</p><pre>throwM e &gt;&gt; x = throwM e</pre><p>In other words, throwing an exception short-circuits the rest of the monadic
 computation.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:throwM" class="def">throwM</a> :: <a href="Control-Monad-Catch.html#t:Exception">Exception</a> e =&gt; e -&gt; m a</p><div class="doc"><p>Throw an exception. Note that this throws when this action is run in
 the monad <code>m</code>, not when it is applied. It is a generalization of
 <a href="../base-4.8.2.0/Control-Exception.html">Control.Exception</a>'s <code><a href="../base-4.8.2.0/Control-Exception-Base.html#v:throwIO">throwIO</a></code>.</p><p>Should satisfy the law:</p><pre>throwM e &gt;&gt; f = throwM e</pre></div></div><div class="subs instances"><p id="control.i:MonadThrow" class="caption collapser" onclick="toggleSection('i:MonadThrow')">Instances</p><div id="section.i:MonadThrow" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> []</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> <a href="../template-haskell-2.10.0.0/Language-Haskell-TH-Syntax.html#t:Q">Q</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> <a href="../base-4.8.2.0/GHC-Conc.html#t:STM">STM</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> <a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(~) * e <a href="Control-Monad-Catch.html#t:SomeException">SomeException</a> =&gt; <a href="Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> (<a href="../base-4.8.2.0/Data-Either.html#t:Either">Either</a> e)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> m =&gt; <a href="Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> (<a href="../mtl-2.2.1/Control-Monad-List.html#t:ListT">ListT</a> m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> m =&gt; <a href="Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> (<a href="../transformers-0.4.2.0/Control-Monad-Trans-Maybe.html#t:MaybeT">MaybeT</a> m)</span></td><td class="doc"><p>Throws exceptions into the base monad.</p></td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> m =&gt; <a href="Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> (<a href="../transformers-0.4.2.0/Control-Monad-Trans-Identity.html#t:IdentityT">IdentityT</a> m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> (<a href="Control-Monad-Catch-Pure.html#t:CatchT">CatchT</a> m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> m =&gt; <a href="Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> (<a href="../mtl-2.2.1/Control-Monad-Cont.html#t:ContT">ContT</a> r m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> m =&gt; <a href="Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> (<a href="../mtl-2.2.1/Control-Monad-Reader.html#t:ReaderT">ReaderT</a> r m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> m =&gt; <a href="Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> (<a href="../mtl-2.2.1/Control-Monad-State-Lazy.html#t:StateT">StateT</a> s m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> m =&gt; <a href="Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> (<a href="../mtl-2.2.1/Control-Monad-State-Strict.html#t:StateT">StateT</a> s m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> m =&gt; <a href="Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> (<a href="../mtl-2.2.1/Control-Monad-Except.html#t:ExceptT">ExceptT</a> e m)</span></td><td class="doc"><p>Throws exceptions into the base monad.</p></td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="../mtl-2.2.1/Control-Monad-Error-Class.html#t:Error">Error</a> e, <a href="Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> m) =&gt; <a href="Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> (<a href="../mtl-2.2.1/Control-Monad-Error.html#t:ErrorT">ErrorT</a> e m)</span></td><td class="doc"><p>Throws exceptions into the base monad.</p></td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> m, <a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> w) =&gt; <a href="Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> (<a href="../mtl-2.2.1/Control-Monad-Writer-Lazy.html#t:WriterT">WriterT</a> w m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> m, <a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> w) =&gt; <a href="Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> (<a href="../mtl-2.2.1/Control-Monad-Writer-Strict.html#t:WriterT">WriterT</a> w m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> m, <a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> w) =&gt; <a href="Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> (<a href="../mtl-2.2.1/Control-Monad-RWS-Lazy.html#t:RWST">RWST</a> r w s m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> m, <a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> w) =&gt; <a href="Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> (<a href="../mtl-2.2.1/Control-Monad-RWS-Strict.html#t:RWST">RWST</a> r w s m)</span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> m =&gt; <a name="t:MonadCatch" class="def">MonadCatch</a> m <span class="keyword">where</span></p><div class="doc"><p>A class for monads which allow exceptions to be caught, in particular
 exceptions which were thrown by <code><a href="Control-Monad-Catch.html#v:throwM">throwM</a></code>.</p><p>Instances should obey the following law:</p><pre>catch (throwM e) f = f e</pre><p>Note that the ability to catch an exception does <em>not</em> guarantee that we can
 deal with all possible exit points from a computation. Some monads, such as
 continuation-based stacks, allow for more than just a success/failure
 strategy, and therefore <code>catch</code> <em>cannot</em> be used by those monads to properly
 implement a function such as <code>finally</code>. For more information, see
 <code><a href="Control-Monad-Catch.html#t:MonadMask">MonadMask</a></code>.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:catch" class="def">catch</a> :: <a href="Control-Monad-Catch.html#t:Exception">Exception</a> e =&gt; m a -&gt; (e -&gt; m a) -&gt; m a</p><div class="doc"><p>Provide a handler for exceptions thrown during execution of the first
 action. Note that type of the type of the argument to the handler will
 constrain which exceptions are caught. See <a href="../base-4.8.2.0/Control-Exception.html">Control.Exception</a>'s
 <code><a href="../base-4.8.2.0/Control-Exception-Base.html#v:catch">catch</a></code>.</p></div></div><div class="subs instances"><p id="control.i:MonadCatch" class="caption collapser" onclick="toggleSection('i:MonadCatch')">Instances</p><div id="section.i:MonadCatch" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> <a href="../base-4.8.2.0/GHC-Conc.html#t:STM">STM</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m =&gt; <a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> (<a href="../mtl-2.2.1/Control-Monad-List.html#t:ListT">ListT</a> m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m =&gt; <a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> (<a href="../transformers-0.4.2.0/Control-Monad-Trans-Maybe.html#t:MaybeT">MaybeT</a> m)</span></td><td class="doc"><p>Catches exceptions from the base monad.</p></td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m =&gt; <a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> (<a href="../transformers-0.4.2.0/Control-Monad-Trans-Identity.html#t:IdentityT">IdentityT</a> m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> (<a href="Control-Monad-Catch-Pure.html#t:CatchT">CatchT</a> m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m =&gt; <a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> (<a href="../mtl-2.2.1/Control-Monad-Reader.html#t:ReaderT">ReaderT</a> r m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m =&gt; <a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> (<a href="../mtl-2.2.1/Control-Monad-State-Lazy.html#t:StateT">StateT</a> s m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m =&gt; <a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> (<a href="../mtl-2.2.1/Control-Monad-State-Strict.html#t:StateT">StateT</a> s m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m =&gt; <a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> (<a href="../mtl-2.2.1/Control-Monad-Except.html#t:ExceptT">ExceptT</a> e m)</span></td><td class="doc"><p>Catches exceptions from the base monad.</p></td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="../mtl-2.2.1/Control-Monad-Error-Class.html#t:Error">Error</a> e, <a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m) =&gt; <a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> (<a href="../mtl-2.2.1/Control-Monad-Error.html#t:ErrorT">ErrorT</a> e m)</span></td><td class="doc"><p>Catches exceptions from the base monad.</p></td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m, <a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> w) =&gt; <a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> (<a href="../mtl-2.2.1/Control-Monad-Writer-Lazy.html#t:WriterT">WriterT</a> w m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m, <a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> w) =&gt; <a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> (<a href="../mtl-2.2.1/Control-Monad-Writer-Strict.html#t:WriterT">WriterT</a> w m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m, <a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> w) =&gt; <a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> (<a href="../mtl-2.2.1/Control-Monad-RWS-Lazy.html#t:RWST">RWST</a> r w s m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m, <a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> w) =&gt; <a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> (<a href="../mtl-2.2.1/Control-Monad-RWS-Strict.html#t:RWST">RWST</a> r w s m)</span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m =&gt; <a name="t:MonadMask" class="def">MonadMask</a> m <span class="keyword">where</span></p><div class="doc"><p>A class for monads which provide for the ability to account for all
 possible exit points from a computation, and to mask asynchronous
 exceptions. Continuation-based monads, and stacks such as <code>ErrorT e IO</code>
 which provide for multiple failure modes, are invalid instances of this
 class.</p><p>Note that this package <em>does</em> provide a <code>MonadMask</code> instance for <code>CatchT</code>.
 This instance is <em>only</em> valid if the base monad provides no ability to
 provide multiple exit. For example, <code>IO</code> or <code>Either</code> would be invalid base
 monads, but <code>Reader</code> or <code>State</code> would be acceptable.</p><p>Instances should ensure that, in the following code:</p><pre>f `finally` g</pre><p>The action <code>g</code> is called regardless of what occurs within <code>f</code>, including
 async exceptions.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:mask" class="def">mask</a> :: ((<span class="keyword">forall</span> a. m a -&gt; m a) -&gt; m b) -&gt; m b</p><div class="doc"><p>Runs an action with asynchronous exceptions disabled. The action is
 provided a method for restoring the async. environment to what it was
 at the <code><a href="Control-Monad-Catch.html#v:mask">mask</a></code> call. See <a href="../base-4.8.2.0/Control-Exception.html">Control.Exception</a>'s <code><a href="../base-4.8.2.0/Control-Exception-Base.html#v:mask">mask</a></code>.</p></div><p class="src"><a name="v:uninterruptibleMask" class="def">uninterruptibleMask</a> :: ((<span class="keyword">forall</span> a. m a -&gt; m a) -&gt; m b) -&gt; m b</p><div class="doc"><p>Like <code><a href="Control-Monad-Catch.html#v:mask">mask</a></code>, but the masked computation is not interruptible (see
 <a href="../base-4.8.2.0/Control-Exception.html">Control.Exception</a>'s <code><a href="../base-4.8.2.0/Control-Exception-Base.html#v:uninterruptibleMask">uninterruptibleMask</a></code>. WARNING:
 Only use if you need to mask exceptions around an interruptible operation
 AND you can guarantee the interruptible operation will only block for a
 short period of time. Otherwise you render the program/thread unresponsive
 and/or unkillable.</p></div></div><div class="subs instances"><p id="control.i:MonadMask" class="caption collapser" onclick="toggleSection('i:MonadMask')">Instances</p><div id="section.i:MonadMask" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:MonadMask">MonadMask</a> <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:MonadMask">MonadMask</a> m =&gt; <a href="Control-Monad-Catch.html#t:MonadMask">MonadMask</a> (<a href="../transformers-0.4.2.0/Control-Monad-Trans-Identity.html#t:IdentityT">IdentityT</a> m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Control-Monad-Catch.html#t:MonadMask">MonadMask</a> (<a href="Control-Monad-Catch-Pure.html#t:CatchT">CatchT</a> m)</span></td><td class="doc"><p>Note: This instance is only valid if the underlying monad has a single
 exit point!</p></td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:MonadMask">MonadMask</a> m =&gt; <a href="Control-Monad-Catch.html#t:MonadMask">MonadMask</a> (<a href="../mtl-2.2.1/Control-Monad-Reader.html#t:ReaderT">ReaderT</a> r m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:MonadMask">MonadMask</a> m =&gt; <a href="Control-Monad-Catch.html#t:MonadMask">MonadMask</a> (<a href="../mtl-2.2.1/Control-Monad-State-Lazy.html#t:StateT">StateT</a> s m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:MonadMask">MonadMask</a> m =&gt; <a href="Control-Monad-Catch.html#t:MonadMask">MonadMask</a> (<a href="../mtl-2.2.1/Control-Monad-State-Strict.html#t:StateT">StateT</a> s m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="Control-Monad-Catch.html#t:MonadMask">MonadMask</a> m, <a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> w) =&gt; <a href="Control-Monad-Catch.html#t:MonadMask">MonadMask</a> (<a href="../mtl-2.2.1/Control-Monad-Writer-Lazy.html#t:WriterT">WriterT</a> w m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="Control-Monad-Catch.html#t:MonadMask">MonadMask</a> m, <a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> w) =&gt; <a href="Control-Monad-Catch.html#t:MonadMask">MonadMask</a> (<a href="../mtl-2.2.1/Control-Monad-Writer-Strict.html#t:WriterT">WriterT</a> w m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="Control-Monad-Catch.html#t:MonadMask">MonadMask</a> m, <a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> w) =&gt; <a href="Control-Monad-Catch.html#t:MonadMask">MonadMask</a> (<a href="../mtl-2.2.1/Control-Monad-RWS-Lazy.html#t:RWST">RWST</a> r w s m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="Control-Monad-Catch.html#t:MonadMask">MonadMask</a> m, <a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> w) =&gt; <a href="Control-Monad-Catch.html#t:MonadMask">MonadMask</a> (<a href="../mtl-2.2.1/Control-Monad-RWS-Strict.html#t:RWST">RWST</a> r w s m)</span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:2">Utilities</h1><div class="doc"><p>These functions follow those from <a href="../base-4.8.2.0/Control-Exception.html">Control.Exception</a>, except that they are
 based on methods from the <code><a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a></code> typeclass. See
 <a href="../base-4.8.2.0/Control-Exception.html">Control.Exception</a> for API usage.</p></div><div class="top"><p class="src"><a name="v:mask_" class="def">mask_</a> :: <a href="Control-Monad-Catch.html#t:MonadMask">MonadMask</a> m =&gt; m a -&gt; m a</p><div class="doc"><p>Like <code><a href="Control-Monad-Catch.html#v:mask">mask</a></code>, but does not pass a <code>restore</code> action to the argument.</p></div></div><div class="top"><p class="src"><a name="v:uninterruptibleMask_" class="def">uninterruptibleMask_</a> :: <a href="Control-Monad-Catch.html#t:MonadMask">MonadMask</a> m =&gt; m a -&gt; m a</p><div class="doc"><p>Like <code><a href="Control-Monad-Catch.html#v:uninterruptibleMask">uninterruptibleMask</a></code>, but does not pass a <code>restore</code> action to the
 argument.</p></div></div><div class="top"><p class="src"><a name="v:catchAll" class="def">catchAll</a> :: <a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m =&gt; m a -&gt; (<a href="Control-Monad-Catch.html#t:SomeException">SomeException</a> -&gt; m a) -&gt; m a</p><div class="doc"><p>Catches all exceptions, and somewhat defeats the purpose of the extensible
 exception system. Use sparingly.</p></div></div><div class="top"><p class="src"><a name="v:catchIOError" class="def">catchIOError</a> :: <a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m =&gt; m a -&gt; (<a href="../base-4.8.2.0/System-IO-Error.html#t:IOError">IOError</a> -&gt; m a) -&gt; m a</p><div class="doc"><p>Catch all <code><a href="../base-4.8.2.0/System-IO-Error.html#t:IOError">IOError</a></code> (eqv. <code>IOException</code>) exceptions. Still somewhat too
 general, but better than using <code><a href="Control-Monad-Catch.html#v:catchAll">catchAll</a></code>. See <code><a href="Control-Monad-Catch.html#v:catchIf">catchIf</a></code> for an easy way
 of catching specific <code><a href="../base-4.8.2.0/System-IO-Error.html#t:IOError">IOError</a></code>s based on the predicates in <a href="../base-4.8.2.0/System-IO-Error.html">System.IO.Error</a>.</p></div></div><div class="top"><p class="src"><a name="v:catchJust" class="def">catchJust</a> :: (<a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m, <a href="Control-Monad-Catch.html#t:Exception">Exception</a> e) =&gt; (e -&gt; <a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> b) -&gt; m a -&gt; (b -&gt; m a) -&gt; m a</p><div class="doc"><p>A more generalized way of determining which exceptions to catch at
 run time.</p></div></div><div class="top"><p class="src"><a name="v:catchIf" class="def">catchIf</a> :: (<a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m, <a href="Control-Monad-Catch.html#t:Exception">Exception</a> e) =&gt; (e -&gt; <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; m a -&gt; (e -&gt; m a) -&gt; m a</p><div class="doc"><p>Catch exceptions only if they pass some predicate. Often useful with the
 predicates for testing <code><a href="../base-4.8.2.0/System-IO-Error.html#t:IOError">IOError</a></code> values in <a href="../base-4.8.2.0/System-IO-Error.html">System.IO.Error</a>.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Handler" class="def">Handler</a> m a</p><div class="doc"><p>Generalized version of <code><a href="../base-4.8.2.0/Control-Exception.html#t:Handler">Handler</a></code></p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><span class="keyword">forall</span> e . <a href="Control-Monad-Catch.html#t:Exception">Exception</a> e =&gt; <a name="v:Handler" class="def">Handler</a> (e -&gt; m a)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Handler" class="caption collapser" onclick="toggleSection('i:Handler')">Instances</p><div id="section.i:Handler" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> (<a href="Control-Monad-Catch.html#t:Handler">Handler</a> m)</span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:catches" class="def">catches</a> :: (<a href="../base-4.8.2.0/Data-Foldable.html#t:Foldable">Foldable</a> f, <a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m) =&gt; m a -&gt; f (<a href="Control-Monad-Catch.html#t:Handler">Handler</a> m a) -&gt; m a</p><div class="doc"><p>Catches different sorts of exceptions. See <a href="../base-4.8.2.0/Control-Exception.html">Control.Exception</a>'s <code><a href="../base-4.8.2.0/Control-Exception.html#v:catches">catches</a></code></p></div></div><div class="top"><p class="src"><a name="v:handle" class="def">handle</a> :: (<a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m, <a href="Control-Monad-Catch.html#t:Exception">Exception</a> e) =&gt; (e -&gt; m a) -&gt; m a -&gt; m a</p><div class="doc"><p>Flipped <code><a href="Control-Monad-Catch.html#v:catch">catch</a></code>. See <a href="../base-4.8.2.0/Control-Exception.html">Control.Exception</a>'s <code><a href="../base-4.8.2.0/Control-Exception-Base.html#v:handle">handle</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:handleAll" class="def">handleAll</a> :: <a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m =&gt; (<a href="Control-Monad-Catch.html#t:SomeException">SomeException</a> -&gt; m a) -&gt; m a -&gt; m a</p><div class="doc"><p>Flipped <code><a href="Control-Monad-Catch.html#v:catchAll">catchAll</a></code></p></div></div><div class="top"><p class="src"><a name="v:handleIOError" class="def">handleIOError</a> :: <a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m =&gt; (<a href="../base-4.8.2.0/System-IO-Error.html#t:IOError">IOError</a> -&gt; m a) -&gt; m a -&gt; m a</p><div class="doc"><p>Flipped <code><a href="Control-Monad-Catch.html#v:catchIOError">catchIOError</a></code></p></div></div><div class="top"><p class="src"><a name="v:handleJust" class="def">handleJust</a> :: (<a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m, <a href="Control-Monad-Catch.html#t:Exception">Exception</a> e) =&gt; (e -&gt; <a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> b) -&gt; (b -&gt; m a) -&gt; m a -&gt; m a</p><div class="doc"><p>Flipped <code><a href="Control-Monad-Catch.html#v:catchJust">catchJust</a></code>. See <a href="../base-4.8.2.0/Control-Exception.html">Control.Exception</a>'s <code><a href="../base-4.8.2.0/Control-Exception-Base.html#v:handleJust">handleJust</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:handleIf" class="def">handleIf</a> :: (<a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m, <a href="Control-Monad-Catch.html#t:Exception">Exception</a> e) =&gt; (e -&gt; <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; (e -&gt; m a) -&gt; m a -&gt; m a</p><div class="doc"><p>Flipped <code><a href="Control-Monad-Catch.html#v:catchIf">catchIf</a></code></p></div></div><div class="top"><p class="src"><a name="v:try" class="def">try</a> :: (<a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m, <a href="Control-Monad-Catch.html#t:Exception">Exception</a> e) =&gt; m a -&gt; m (<a href="../base-4.8.2.0/Data-Either.html#t:Either">Either</a> e a)</p><div class="doc"><p>Similar to <code><a href="Control-Monad-Catch.html#v:catch">catch</a></code>, but returns an <code><a href="../base-4.8.2.0/Data-Either.html#t:Either">Either</a></code> result. See <a href="../base-4.8.2.0/Control-Exception.html">Control.Exception</a>'s
 <code><a href="../base-4.8.2.0/Control-Exception.html#v:try">try</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:tryJust" class="def">tryJust</a> :: (<a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m, <a href="Control-Monad-Catch.html#t:Exception">Exception</a> e) =&gt; (e -&gt; <a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> b) -&gt; m a -&gt; m (<a href="../base-4.8.2.0/Data-Either.html#t:Either">Either</a> b a)</p><div class="doc"><p>A variant of <code><a href="Control-Monad-Catch.html#v:try">try</a></code> that takes an exception predicate to select
 which exceptions are caught. See <a href="../base-4.8.2.0/Control-Exception.html">Control.Exception</a>'s <code><a href="../base-4.8.2.0/Control-Exception-Base.html#v:tryJust">tryJust</a></code></p></div></div><div class="top"><p class="src"><a name="v:onException" class="def">onException</a> :: <a href="Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m =&gt; m a -&gt; m b -&gt; m a</p><div class="doc"><p>Run an action only if an exception is thrown in the main action. The
 exception is not caught, simply rethrown.</p></div></div><div class="top"><p class="src"><a name="v:bracket" class="def">bracket</a> :: <a href="Control-Monad-Catch.html#t:MonadMask">MonadMask</a> m =&gt; m a -&gt; (a -&gt; m b) -&gt; (a -&gt; m c) -&gt; m c</p><div class="doc"><p>Generalized abstracted pattern of safe resource acquisition and release
 in the face of exceptions. The first action &quot;acquires&quot; some value, which
 is &quot;released&quot; by the second action at the end. The third action &quot;uses&quot;
 the value and its result is the result of the <code><a href="Control-Monad-Catch.html#v:bracket">bracket</a></code>.</p><p>If an exception occurs during the use, the release still happens before the
 exception is rethrown.</p></div></div><div class="top"><p class="src"><a name="v:bracket_" class="def">bracket_</a> :: <a href="Control-Monad-Catch.html#t:MonadMask">MonadMask</a> m =&gt; m a -&gt; m b -&gt; m c -&gt; m c</p><div class="doc"><p>Version of <code><a href="Control-Monad-Catch.html#v:bracket">bracket</a></code> without any value being passed to the second and
 third actions.</p></div></div><div class="top"><p class="src"><a name="v:finally" class="def">finally</a> :: <a href="Control-Monad-Catch.html#t:MonadMask">MonadMask</a> m =&gt; m a -&gt; m b -&gt; m a</p><div class="doc"><p>Perform an action with a finalizer action that is run, even if an
 exception occurs.</p></div></div><div class="top"><p class="src"><a name="v:bracketOnError" class="def">bracketOnError</a> :: <a href="Control-Monad-Catch.html#t:MonadMask">MonadMask</a> m =&gt; m a -&gt; (a -&gt; m b) -&gt; (a -&gt; m c) -&gt; m c</p><div class="doc"><p>Like <code><a href="Control-Monad-Catch.html#v:bracket">bracket</a></code>, but only performs the final action if there was an
 exception raised by the in-between computation.</p></div></div><h1 id="g:3">Re-exports from Control.Exception</h1><div class="top"><p class="src"><span class="keyword">class</span> (<a href="../base-4.8.2.0/Data-Typeable-Internal.html#t:Typeable">Typeable</a> * e, <a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> e) =&gt; <a name="t:Exception" class="def">Exception</a> e <span class="keyword">where</span></p><div class="doc"><p>Any type that you wish to throw or catch as an exception must be an
instance of the <code>Exception</code> class. The simplest case is a new exception
type directly below the root:</p><pre>data MyException = ThisException | ThatException
    deriving (Show, Typeable)

instance Exception MyException</pre><p>The default method definitions in the <code>Exception</code> class do what we need
in this case. You can now throw and catch <code>ThisException</code> and
<code>ThatException</code> as exceptions:</p><pre>*Main&gt; throw ThisException `catch` \e -&gt; putStrLn (&quot;Caught &quot; ++ show (e :: MyException))
Caught ThisException
</pre><p>In more complicated examples, you may wish to define a whole hierarchy
of exceptions:</p><pre>---------------------------------------------------------------------
-- Make the root exception type for all the exceptions in a compiler

data SomeCompilerException = forall e . Exception e =&gt; SomeCompilerException e
    deriving Typeable

instance Show SomeCompilerException where
    show (SomeCompilerException e) = show e

instance Exception SomeCompilerException

compilerExceptionToException :: Exception e =&gt; e -&gt; SomeException
compilerExceptionToException = toException . SomeCompilerException

compilerExceptionFromException :: Exception e =&gt; SomeException -&gt; Maybe e
compilerExceptionFromException x = do
    SomeCompilerException a &lt;- fromException x
    cast a

---------------------------------------------------------------------
-- Make a subhierarchy for exceptions in the frontend of the compiler

data SomeFrontendException = forall e . Exception e =&gt; SomeFrontendException e
    deriving Typeable

instance Show SomeFrontendException where
    show (SomeFrontendException e) = show e

instance Exception SomeFrontendException where
    toException = compilerExceptionToException
    fromException = compilerExceptionFromException

frontendExceptionToException :: Exception e =&gt; e -&gt; SomeException
frontendExceptionToException = toException . SomeFrontendException

frontendExceptionFromException :: Exception e =&gt; SomeException -&gt; Maybe e
frontendExceptionFromException x = do
    SomeFrontendException a &lt;- fromException x
    cast a

---------------------------------------------------------------------
-- Make an exception type for a particular frontend compiler exception

data MismatchedParentheses = MismatchedParentheses
    deriving (Typeable, Show)

instance Exception MismatchedParentheses where
    toException   = frontendExceptionToException
    fromException = frontendExceptionFromException</pre><p>We can now catch a <code>MismatchedParentheses</code> exception as
<code>MismatchedParentheses</code>, <code>SomeFrontendException</code> or
<code>SomeCompilerException</code>, but not other types, e.g. <code>IOException</code>:</p><pre>*Main&gt; throw MismatchedParentheses <code>catch</code> e -&gt; putStrLn (&quot;Caught &quot; ++ show (e :: MismatchedParentheses))
Caught MismatchedParentheses
*Main&gt; throw MismatchedParentheses <code>catch</code> e -&gt; putStrLn (&quot;Caught &quot; ++ show (e :: SomeFrontendException))
Caught MismatchedParentheses
*Main&gt; throw MismatchedParentheses <code>catch</code> e -&gt; putStrLn (&quot;Caught &quot; ++ show (e :: SomeCompilerException))
Caught MismatchedParentheses
*Main&gt; throw MismatchedParentheses <code>catch</code> e -&gt; putStrLn (&quot;Caught &quot; ++ show (e :: IOException))
*** Exception: MismatchedParentheses
</pre></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src">Nothing</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:toException" class="def">toException</a> :: e -&gt; <a href="Control-Monad-Catch.html#t:SomeException">SomeException</a></p><p class="src"><a name="v:fromException" class="def">fromException</a> :: <a href="Control-Monad-Catch.html#t:SomeException">SomeException</a> -&gt; <a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> e</p><p class="src"><a name="v:displayException" class="def">displayException</a> :: e -&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></p><div class="doc"><p>Render this exception value in a human-friendly manner.</p><p>Default implementation: <code><code><a href="../base-4.8.2.0/Text-Show.html#v:show">show</a></code></code>.</p><p><em>Since: 4.8.0.0</em></p></div></div><div class="subs instances"><p id="control.i:Exception" class="caption collapser" onclick="toggleSection('i:Exception')">Instances</p><div id="section.i:Exception" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:Exception">Exception</a> <a href="../base-4.8.2.0/Control-Exception-Base.html#t:PatternMatchFail">PatternMatchFail</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:Exception">Exception</a> <a href="../base-4.8.2.0/Control-Exception-Base.html#t:RecSelError">RecSelError</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:Exception">Exception</a> <a href="../base-4.8.2.0/Control-Exception-Base.html#t:RecConError">RecConError</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:Exception">Exception</a> <a href="../base-4.8.2.0/Control-Exception-Base.html#t:RecUpdError">RecUpdError</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:Exception">Exception</a> <a href="../base-4.8.2.0/Control-Exception-Base.html#t:NoMethodError">NoMethodError</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:Exception">Exception</a> <a href="../base-4.8.2.0/Control-Exception-Base.html#t:NonTermination">NonTermination</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:Exception">Exception</a> <a href="../base-4.8.2.0/Control-Exception-Base.html#t:NestedAtomically">NestedAtomically</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:Exception">Exception</a> <a href="../base-4.8.2.0/Control-Exception-Base.html#t:BlockedIndefinitelyOnMVar">BlockedIndefinitelyOnMVar</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:Exception">Exception</a> <a href="../base-4.8.2.0/Control-Exception-Base.html#t:BlockedIndefinitelyOnSTM">BlockedIndefinitelyOnSTM</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:Exception">Exception</a> <a href="../base-4.8.2.0/Control-Exception-Base.html#t:Deadlock">Deadlock</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:Exception">Exception</a> <a href="../base-4.8.2.0/Control-Exception-Base.html#t:AllocationLimitExceeded">AllocationLimitExceeded</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:Exception">Exception</a> <a href="../base-4.8.2.0/Control-Exception-Base.html#t:AssertionFailed">AssertionFailed</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:Exception">Exception</a> <a href="../base-4.8.2.0/Control-Exception-Base.html#t:SomeAsyncException">SomeAsyncException</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:Exception">Exception</a> <a href="../base-4.8.2.0/Control-Exception-Base.html#t:AsyncException">AsyncException</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:Exception">Exception</a> <a href="../base-4.8.2.0/Control-Exception-Base.html#t:ArrayException">ArrayException</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:Exception">Exception</a> <a href="../base-4.8.2.0/System-Exit.html#t:ExitCode">ExitCode</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:Exception">Exception</a> <a href="../base-4.8.2.0/Control-Exception-Base.html#t:IOException">IOException</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:Exception">Exception</a> <a href="../base-4.8.2.0/Control-Exception-Base.html#t:ErrorCall">ErrorCall</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:Exception">Exception</a> <a href="../base-4.8.2.0/Control-Exception-Base.html#t:ArithException">ArithException</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:Exception">Exception</a> <a href="Control-Monad-Catch.html#t:SomeException">SomeException</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:SomeException" class="def">SomeException</a> :: * <span class="keyword">where</span></p><div class="doc"><p>The <code>SomeException</code> type is the root of the exception type hierarchy.
When an exception of type <code>e</code> is thrown, behind the scenes it is
encapsulated in a <code>SomeException</code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:SomeException" class="def">SomeException</a> :: <a href="Control-Monad-Catch.html#t:Exception">Exception</a> e =&gt; e -&gt; <a href="Control-Monad-Catch.html#t:SomeException">SomeException</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:SomeException" class="caption collapser" onclick="toggleSection('i:SomeException')">Instances</p><div id="section.i:SomeException" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> <a href="Control-Monad-Catch.html#t:SomeException">SomeException</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Catch.html#t:Exception">Exception</a> <a href="Control-Monad-Catch.html#t:SomeException">SomeException</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>