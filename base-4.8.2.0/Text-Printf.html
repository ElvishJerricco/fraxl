<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Text.Printf</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Text-Printf.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Text-Printf.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">base-4.8.2.0: Basic libraries</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>(c) Lennart Augustsson and Bart Massey 2013</td></tr><tr><th>License</th><td>BSD-style (see the file LICENSE in this distribution)</td></tr><tr><th>Maintainer</th><td>Bart Massey &lt;bart@cs.pdx.edu&gt;</td></tr><tr><th>Stability</th><td>provisional</td></tr><tr><th>Portability</th><td>portable</td></tr><tr><th>Safe Haskell</th><td>Safe</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Text.Printf</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Printing Functions</a></li><li><a href="#g:2">Extending To New Types</a><ul><li><a href="#g:3">Handling Type-specific Modifiers</a></li><li><a href="#g:4">Standard Formatters</a></li><li><a href="#g:5">Raising Errors</a></li></ul></li><li><a href="#g:6">Implementation Internals</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>A C <code>printf(3)</code>-like formatter. This version has been
 extended by Bart Massey as per the recommendations of
 John Meacham and Simon Marlow
 &lt;<a href="http://comments.gmane.org/gmane.comp.lang.haskell.libraries/4726">http://comments.gmane.org/gmane.comp.lang.haskell.libraries/4726</a>&gt;
 to support extensible formatting for new datatypes.  It
 has also been extended to support almost all C
 <code>printf(3)</code> syntax.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:printf">printf</a> :: <a href="Text-Printf.html#t:PrintfType">PrintfType</a> r =&gt; <a href="Data-String.html#t:String">String</a> -&gt; r</li><li class="src short"><a href="#v:hPrintf">hPrintf</a> :: <a href="Text-Printf.html#t:HPrintfType">HPrintfType</a> r =&gt; <a href="GHC-IO-Handle.html#t:Handle">Handle</a> -&gt; <a href="Data-String.html#t:String">String</a> -&gt; r</li><li class="src short"><span class="keyword">class</span> <a href="#t:PrintfArg">PrintfArg</a> a <span class="keyword">where</span><ul class="subs"><li><a href="#v:formatArg">formatArg</a> :: a -&gt; <a href="Text-Printf.html#t:FieldFormatter">FieldFormatter</a></li><li><a href="#v:parseFormat">parseFormat</a> :: a -&gt; <a href="Text-Printf.html#t:ModifierParser">ModifierParser</a></li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:FieldFormatter">FieldFormatter</a> = <a href="Text-Printf.html#t:FieldFormat">FieldFormat</a> -&gt; <a href="Text-Show.html#t:ShowS">ShowS</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:FieldFormat">FieldFormat</a> = <a href="#v:FieldFormat">FieldFormat</a> {<ul class="subs"><li><a href="#v:fmtWidth">fmtWidth</a> :: <a href="Data-Maybe.html#t:Maybe">Maybe</a> <a href="Data-Int.html#t:Int">Int</a></li><li><a href="#v:fmtPrecision">fmtPrecision</a> :: <a href="Data-Maybe.html#t:Maybe">Maybe</a> <a href="Data-Int.html#t:Int">Int</a></li><li><a href="#v:fmtAdjust">fmtAdjust</a> :: <a href="Data-Maybe.html#t:Maybe">Maybe</a> <a href="Text-Printf.html#t:FormatAdjustment">FormatAdjustment</a></li><li><a href="#v:fmtSign">fmtSign</a> :: <a href="Data-Maybe.html#t:Maybe">Maybe</a> <a href="Text-Printf.html#t:FormatSign">FormatSign</a></li><li><a href="#v:fmtAlternate">fmtAlternate</a> :: <a href="Data-Bool.html#t:Bool">Bool</a></li><li><a href="#v:fmtModifiers">fmtModifiers</a> :: <a href="Data-String.html#t:String">String</a></li><li><a href="#v:fmtChar">fmtChar</a> :: <a href="Data-Char.html#t:Char">Char</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:FormatAdjustment">FormatAdjustment</a><ul class="subs"><li>= <a href="#v:LeftAdjust">LeftAdjust</a></li><li>| <a href="#v:ZeroPad">ZeroPad</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:FormatSign">FormatSign</a><ul class="subs"><li>= <a href="#v:SignPlus">SignPlus</a></li><li>| <a href="#v:SignSpace">SignSpace</a></li></ul></li><li class="src short"><a href="#v:vFmt">vFmt</a> :: <a href="Data-Char.html#t:Char">Char</a> -&gt; <a href="Text-Printf.html#t:FieldFormat">FieldFormat</a> -&gt; <a href="Text-Printf.html#t:FieldFormat">FieldFormat</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:ModifierParser">ModifierParser</a> = <a href="Data-String.html#t:String">String</a> -&gt; <a href="Text-Printf.html#t:FormatParse">FormatParse</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:FormatParse">FormatParse</a> = <a href="#v:FormatParse">FormatParse</a> {<ul class="subs"><li><a href="#v:fpModifiers">fpModifiers</a> :: <a href="Data-String.html#t:String">String</a></li><li><a href="#v:fpChar">fpChar</a> :: <a href="Data-Char.html#t:Char">Char</a></li><li><a href="#v:fpRest">fpRest</a> :: <a href="Data-String.html#t:String">String</a></li></ul>}</li><li class="src short"><a href="#v:formatString">formatString</a> :: <a href="Text-Printf.html#t:IsChar">IsChar</a> a =&gt; [a] -&gt; <a href="Text-Printf.html#t:FieldFormatter">FieldFormatter</a></li><li class="src short"><a href="#v:formatChar">formatChar</a> :: <a href="Data-Char.html#t:Char">Char</a> -&gt; <a href="Text-Printf.html#t:FieldFormatter">FieldFormatter</a></li><li class="src short"><a href="#v:formatInt">formatInt</a> :: (<a href="Prelude.html#t:Integral">Integral</a> a, <a href="Prelude.html#t:Bounded">Bounded</a> a) =&gt; a -&gt; <a href="Text-Printf.html#t:FieldFormatter">FieldFormatter</a></li><li class="src short"><a href="#v:formatInteger">formatInteger</a> :: <a href="Prelude.html#t:Integer">Integer</a> -&gt; <a href="Text-Printf.html#t:FieldFormatter">FieldFormatter</a></li><li class="src short"><a href="#v:formatRealFloat">formatRealFloat</a> :: <a href="Prelude.html#t:RealFloat">RealFloat</a> a =&gt; a -&gt; <a href="Text-Printf.html#t:FieldFormatter">FieldFormatter</a></li><li class="src short"><a href="#v:errorBadFormat">errorBadFormat</a> :: <a href="Data-Char.html#t:Char">Char</a> -&gt; a</li><li class="src short"><a href="#v:errorShortFormat">errorShortFormat</a> :: a</li><li class="src short"><a href="#v:errorMissingArgument">errorMissingArgument</a> :: a</li><li class="src short"><a href="#v:errorBadArgument">errorBadArgument</a> :: a</li><li class="src short"><a href="#v:perror">perror</a> :: <a href="Data-String.html#t:String">String</a> -&gt; a</li><li class="src short"><span class="keyword">class</span> <a href="#t:PrintfType">PrintfType</a> t</li><li class="src short"><span class="keyword">class</span> <a href="#t:HPrintfType">HPrintfType</a> t</li><li class="src short"><span class="keyword">class</span> <a href="#t:IsChar">IsChar</a> c <span class="keyword">where</span><ul class="subs"><li><a href="#v:toChar">toChar</a> :: c -&gt; <a href="Data-Char.html#t:Char">Char</a></li><li><a href="#v:fromChar">fromChar</a> :: <a href="Data-Char.html#t:Char">Char</a> -&gt; c</li></ul></li></ul></div><div id="interface"><h1 id="g:1">Printing Functions</h1><div class="top"><p class="src"><a name="v:printf" class="def">printf</a> :: <a href="Text-Printf.html#t:PrintfType">PrintfType</a> r =&gt; <a href="Data-String.html#t:String">String</a> -&gt; r <a href="src/Text-Printf.html#printf" class="link">Source</a></p><div class="doc"><p>Format a variable number of arguments with the C-style formatting string.
 The return value is either <code><a href="Data-String.html#t:String">String</a></code> or <code>(<code><a href="System-IO.html#t:IO">IO</a></code> a)</code> (which
 should be <code>(<code><a href="System-IO.html#t:IO">IO</a></code> '()')</code>, but Haskell's type system
 makes this hard).</p><p>The format string consists of ordinary characters and
 <em>conversion specifications</em>, which specify how to format
 one of the arguments to <code><a href="Text-Printf.html#v:printf">printf</a></code> in the output string. A
 format specification is introduced by the <code>%</code> character;
 this character can be self-escaped into the format string
 using <code>%%</code>. A format specification ends with a /format
 character/ that provides the primary information about
 how to format the value. The rest of the conversion
 specification is optional.  In order, one may have flag
 characters, a width specifier, a precision specifier, and
 type-specific modifier characters.</p><p>Unlike C <code>printf(3)</code>, the formatting of this <code><a href="Text-Printf.html#v:printf">printf</a></code>
 is driven by the argument type; formatting is type specific. The
 types formatted by <code><a href="Text-Printf.html#v:printf">printf</a></code> &quot;out of the box&quot; are:</p><ul><li><code><a href="Prelude.html#t:Integral">Integral</a></code> types, including <code><a href="Data-Char.html#t:Char">Char</a></code></li><li><code><a href="Data-String.html#t:String">String</a></code></li><li><code><a href="Prelude.html#t:RealFloat">RealFloat</a></code> types</li></ul><p><code><a href="Text-Printf.html#v:printf">printf</a></code> is also extensible to support other types: see below.</p><p>A conversion specification begins with the
 character <code>%</code>, followed by zero or more of the following flags:</p><pre>   -      left adjust (default is right adjust)
   +      always use a sign (+ or -) for signed conversions
   space  leading space for positive numbers in signed conversions
   0      pad with zeros rather than spaces
   #      use an \&quot;alternate form\&quot;: see below</pre><p>When both flags are given, <code>-</code> overrides <code>0</code> and <code>+</code> overrides space.
 A negative width specifier in a <code>*</code> conversion is treated as
 positive but implies the left adjust flag.</p><p>The &quot;alternate form&quot; for unsigned radix conversions is
 as in C <code>printf(3)</code>:</p><pre>   %o           prefix with a leading 0 if needed
   %x           prefix with a leading 0x if nonzero
   %X           prefix with a leading 0X if nonzero
   %b           prefix with a leading 0b if nonzero
   %[eEfFgG]    ensure that the number contains a decimal point</pre><p>Any flags are followed optionally by a field width:</p><pre>   num    field width
   *      as num, but taken from argument list</pre><p>The field width is a minimum, not a maximum: it will be
 expanded as needed to avoid mutilating a value.</p><p>Any field width is followed optionally by a precision:</p><pre>   .num   precision
   .      same as .0
   .*     as num, but taken from argument list</pre><p>Negative precision is taken as 0. The meaning of the
 precision depends on the conversion type.</p><pre>   Integral    minimum number of digits to show
   RealFloat   number of digits after the decimal point
   String      maximum number of characters</pre><p>The precision for Integral types is accomplished by zero-padding.
 If both precision and zero-pad are given for an Integral field,
 the zero-pad is ignored.</p><p>Any precision is followed optionally for Integral types
 by a width modifier; the only use of this modifier being
 to set the implicit size of the operand for conversion of
 a negative operand to unsigned:</p><pre>   hh     Int8
   h      Int16
   l      Int32
   ll     Int64
   L      Int64</pre><p>The specification ends with a format character:</p><pre>   c      character               Integral
   d      decimal                 Integral
   o      octal                   Integral
   x      hexadecimal             Integral
   X      hexadecimal             Integral
   b      binary                  Integral
   u      unsigned decimal        Integral
   f      floating point          RealFloat
   F      floating point          RealFloat
   g      general format float    RealFloat
   G      general format float    RealFloat
   e      exponent format float   RealFloat
   E      exponent format float   RealFloat
   s      string                  String
   v      default format          any type</pre><p>The &quot;%v&quot; specifier is provided for all built-in types,
 and should be provided for user-defined type formatters
 as well. It picks a &quot;best&quot; representation for the given
 type. For the built-in types the &quot;%v&quot; specifier is
 converted as follows:</p><pre>   c      Char
   u      other unsigned Integral
   d      other signed Integral
   g      RealFloat
   s      String</pre><p>Mismatch between the argument types and the format
 string, as well as any other syntactic or semantic errors
 in the format string, will cause an exception to be
 thrown at runtime.</p><p>Note that the formatting for <code><a href="Prelude.html#t:RealFloat">RealFloat</a></code> types is
 currently a bit different from that of C <code>printf(3)</code>,
 conforming instead to <code><a href="Numeric.html#v:showEFloat">showEFloat</a></code>,
 <code><a href="Numeric.html#v:showFFloat">showFFloat</a></code> and <code><a href="Numeric.html#v:showGFloat">showGFloat</a></code> (and their
 alternate versions <code><a href="Numeric.html#v:showFFloatAlt">showFFloatAlt</a></code> and
 <code><a href="Numeric.html#v:showGFloatAlt">showGFloatAlt</a></code>). This is hard to fix: the fixed
 versions would format in a backward-incompatible way.
 In any case the Haskell behavior is generally more
 sensible than the C behavior.  A brief summary of some
 key differences:</p><ul><li>Haskell <code><a href="Text-Printf.html#v:printf">printf</a></code> never uses the default &quot;6-digit&quot; precision
   used by C printf.</li><li>Haskell <code><a href="Text-Printf.html#v:printf">printf</a></code> treats the &quot;precision&quot; specifier as
   indicating the number of digits after the decimal point.</li><li>Haskell <code><a href="Text-Printf.html#v:printf">printf</a></code> prints the exponent of e-format
   numbers without a gratuitous plus sign, and with the
   minimum possible number of digits.</li><li>Haskell <code><a href="Text-Printf.html#v:printf">printf</a></code> will place a zero after a decimal point when
   possible.</li></ul><h4 id="control.ch:printf0" class="caption collapser" onclick="toggleSection('ch:printf0')">Examples</h4><div id="section.ch:printf0" class="hide"><pre>  &gt; printf &quot;%d\n&quot; (23::Int)
  23
  &gt; printf &quot;%s %s\n&quot; &quot;Hello&quot; &quot;World&quot;
  Hello World
  &gt; printf &quot;%.2f\n&quot; pi
  3.14</pre></div></div></div><div class="top"><p class="src"><a name="v:hPrintf" class="def">hPrintf</a> :: <a href="Text-Printf.html#t:HPrintfType">HPrintfType</a> r =&gt; <a href="GHC-IO-Handle.html#t:Handle">Handle</a> -&gt; <a href="Data-String.html#t:String">String</a> -&gt; r <a href="src/Text-Printf.html#hPrintf" class="link">Source</a></p><div class="doc"><p>Similar to <code><a href="Text-Printf.html#v:printf">printf</a></code>, except that output is via the specified
 <code><a href="GHC-IO-Handle.html#t:Handle">Handle</a></code>.  The return type is restricted to <code>(<code><a href="System-IO.html#t:IO">IO</a></code> a)</code>.</p></div></div><h1 id="g:2">Extending To New Types</h1><div class="doc"><p>This <code><a href="Text-Printf.html#v:printf">printf</a></code> can be extended to format types
 other than those provided for by default. This
 is done by instancing <code><a href="Text-Printf.html#t:PrintfArg">PrintfArg</a></code> and providing
 a <code><a href="Text-Printf.html#v:formatArg">formatArg</a></code> for the type. It is possible to
 provide a <code><a href="Text-Printf.html#v:parseFormat">parseFormat</a></code> to process type-specific
 modifiers, but the default instance is usually
 the best choice.</p><p>For example:</p><pre>instance PrintfArg () where
  formatArg x fmt | fmtChar (vFmt 'U' fmt) == 'U' =
    formatString &quot;()&quot; (fmt { fmtChar = 's', fmtPrecision = Nothing })
  formatArg _ fmt = errorBadFormat $ fmtChar fmt

main :: IO ()
main = printf &quot;[%-3.1U]\n&quot; ()</pre><p>prints &quot;<code>[() ]</code>&quot;. Note the use of <code><a href="Text-Printf.html#v:formatString">formatString</a></code> to
 take care of field formatting specifications in a convenient
 way.</p></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:PrintfArg" class="def">PrintfArg</a> a <span class="keyword">where</span> <a href="src/Text-Printf.html#PrintfArg" class="link">Source</a></p><div class="doc"><p>Typeclass of <code><a href="Text-Printf.html#v:printf">printf</a></code>-formattable values. The <code><a href="Text-Printf.html#v:formatArg">formatArg</a></code> method
 takes a value and a field format descriptor and either fails due
 to a bad descriptor or produces a <code><a href="Text-Show.html#t:ShowS">ShowS</a></code> as the result. The
 default <code><a href="Text-Printf.html#v:parseFormat">parseFormat</a></code> expects no modifiers: this is the normal
 case. Minimal instance: <code><a href="Text-Printf.html#v:formatArg">formatArg</a></code>.</p></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="Text-Printf.html#v:formatArg">formatArg</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:formatArg" class="def">formatArg</a> :: a -&gt; <a href="Text-Printf.html#t:FieldFormatter">FieldFormatter</a> <a href="src/Text-Printf.html#formatArg" class="link">Source</a></p><div class="doc"><p><em>Since: 4.7.0.0</em></p></div><p class="src"><a name="v:parseFormat" class="def">parseFormat</a> :: a -&gt; <a href="Text-Printf.html#t:ModifierParser">ModifierParser</a> <a href="src/Text-Printf.html#parseFormat" class="link">Source</a></p><div class="doc"><p><em>Since: 4.7.0.0</em></p></div></div><div class="subs instances"><p id="control.i:PrintfArg" class="caption collapser" onclick="toggleSection('i:PrintfArg')">Instances</p><div id="section.i:PrintfArg" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="Text-Printf.html#t:PrintfArg">PrintfArg</a> <a href="Data-Char.html#t:Char">Char</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Text-Printf.html#t:PrintfArg">PrintfArg</a> <a href="Prelude.html#t:Double">Double</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Text-Printf.html#t:PrintfArg">PrintfArg</a> <a href="Prelude.html#t:Float">Float</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Text-Printf.html#t:PrintfArg">PrintfArg</a> <a href="Data-Int.html#t:Int">Int</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Text-Printf.html#t:PrintfArg">PrintfArg</a> <a href="Data-Int.html#t:Int8">Int8</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Text-Printf.html#t:PrintfArg">PrintfArg</a> <a href="Data-Int.html#t:Int16">Int16</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Text-Printf.html#t:PrintfArg">PrintfArg</a> <a href="Data-Int.html#t:Int32">Int32</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Text-Printf.html#t:PrintfArg">PrintfArg</a> <a href="Data-Int.html#t:Int64">Int64</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Text-Printf.html#t:PrintfArg">PrintfArg</a> <a href="Prelude.html#t:Integer">Integer</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Text-Printf.html#t:PrintfArg">PrintfArg</a> <a href="Data-Word.html#t:Word">Word</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Text-Printf.html#t:PrintfArg">PrintfArg</a> <a href="Data-Word.html#t:Word8">Word8</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Text-Printf.html#t:PrintfArg">PrintfArg</a> <a href="Data-Word.html#t:Word16">Word16</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Text-Printf.html#t:PrintfArg">PrintfArg</a> <a href="Data-Word.html#t:Word32">Word32</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Text-Printf.html#t:PrintfArg">PrintfArg</a> <a href="Data-Word.html#t:Word64">Word64</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Text-Printf.html#t:PrintfArg">PrintfArg</a> <a href="Numeric-Natural.html#t:Natural">Natural</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Text-Printf.html#t:IsChar">IsChar</a> c =&gt; <a href="Text-Printf.html#t:PrintfArg">PrintfArg</a> [c]</span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:FieldFormatter" class="def">FieldFormatter</a> = <a href="Text-Printf.html#t:FieldFormat">FieldFormat</a> -&gt; <a href="Text-Show.html#t:ShowS">ShowS</a> <a href="src/Text-Printf.html#FieldFormatter" class="link">Source</a></p><div class="doc"><p>This is the type of a field formatter reified over its
 argument.</p><p><em>Since: 4.7.0.0</em></p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:FieldFormat" class="def">FieldFormat</a> <a href="src/Text-Printf.html#FieldFormat" class="link">Source</a></p><div class="doc"><p>Description of field formatting for <code><a href="Text-Printf.html#v:formatArg">formatArg</a></code>. See UNIX <code><a href="Text-Printf.html#v:printf">printf</a></code>(3)
 for a description of how field formatting works.</p><p><em>Since: 4.7.0.0</em></p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:FieldFormat" class="def">FieldFormat</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:fmtWidth" class="def">fmtWidth</a> :: <a href="Data-Maybe.html#t:Maybe">Maybe</a> <a href="Data-Int.html#t:Int">Int</a></dt><dd class="doc"><p>Total width of the field.</p></dd><dt class="src"><a name="v:fmtPrecision" class="def">fmtPrecision</a> :: <a href="Data-Maybe.html#t:Maybe">Maybe</a> <a href="Data-Int.html#t:Int">Int</a></dt><dd class="doc"><p>Secondary field width specifier.</p></dd><dt class="src"><a name="v:fmtAdjust" class="def">fmtAdjust</a> :: <a href="Data-Maybe.html#t:Maybe">Maybe</a> <a href="Text-Printf.html#t:FormatAdjustment">FormatAdjustment</a></dt><dd class="doc"><p>Kind of filling or padding
   to be done.</p></dd><dt class="src"><a name="v:fmtSign" class="def">fmtSign</a> :: <a href="Data-Maybe.html#t:Maybe">Maybe</a> <a href="Text-Printf.html#t:FormatSign">FormatSign</a></dt><dd class="doc"><p>Whether to insist on a
 plus sign for positive
 numbers.</p></dd><dt class="src"><a name="v:fmtAlternate" class="def">fmtAlternate</a> :: <a href="Data-Bool.html#t:Bool">Bool</a></dt><dd class="doc"><p>Indicates an &quot;alternate
 format&quot;.  See printf(3)
 for the details, which
 vary by argument spec.</p></dd><dt class="src"><a name="v:fmtModifiers" class="def">fmtModifiers</a> :: <a href="Data-String.html#t:String">String</a></dt><dd class="doc"><p>Characters that appeared
 immediately to the left of
 <code><a href="Text-Printf.html#v:fmtChar">fmtChar</a></code> in the format
 and were accepted by the
 type's <code><a href="Text-Printf.html#v:parseFormat">parseFormat</a></code>.
 Normally the empty string.</p></dd><dt class="src"><a name="v:fmtChar" class="def">fmtChar</a> :: <a href="Data-Char.html#t:Char">Char</a></dt><dd class="doc"><p>The format character
 <code><a href="Text-Printf.html#v:printf">printf</a></code> was invoked
 with. <code><a href="Text-Printf.html#v:formatArg">formatArg</a></code> should
 fail unless this character
 matches the type. It is
 normal to handle many
 different format
 characters for a single
 type.</p></dd></dl><div class="clear"></div></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:FormatAdjustment" class="def">FormatAdjustment</a> <a href="src/Text-Printf.html#FormatAdjustment" class="link">Source</a></p><div class="doc"><p>Whether to left-adjust or zero-pad a field. These are
 mutually exclusive, with <code><a href="Text-Printf.html#v:LeftAdjust">LeftAdjust</a></code> taking precedence.</p><p><em>Since: 4.7.0.0</em></p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:LeftAdjust" class="def">LeftAdjust</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:ZeroPad" class="def">ZeroPad</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:FormatSign" class="def">FormatSign</a> <a href="src/Text-Printf.html#FormatSign" class="link">Source</a></p><div class="doc"><p>How to handle the sign of a numeric field.  These are
 mutually exclusive, with <code><a href="Text-Printf.html#v:SignPlus">SignPlus</a></code> taking precedence.</p><p><em>Since: 4.7.0.0</em></p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:SignPlus" class="def">SignPlus</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:SignSpace" class="def">SignSpace</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a name="v:vFmt" class="def">vFmt</a> :: <a href="Data-Char.html#t:Char">Char</a> -&gt; <a href="Text-Printf.html#t:FieldFormat">FieldFormat</a> -&gt; <a href="Text-Printf.html#t:FieldFormat">FieldFormat</a> <a href="src/Text-Printf.html#vFmt" class="link">Source</a></p><div class="doc"><p>Substitute a 'v' format character with the given
 default format character in the <code><a href="Text-Printf.html#t:FieldFormat">FieldFormat</a></code>. A
 convenience for user-implemented types, which should
 support &quot;%v&quot;.</p><p><em>Since: 4.7.0.0</em></p></div></div><h2 id="g:3">Handling Type-specific Modifiers</h2><div class="doc"><p>In the unlikely case that modifier characters of
 some kind are desirable for a user-provided type,
 a <code><a href="Text-Printf.html#t:ModifierParser">ModifierParser</a></code> can be provided to process these
 characters. The resulting modifiers will appear in
 the <code><a href="Text-Printf.html#t:FieldFormat">FieldFormat</a></code> for use by the type-specific formatter.</p></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:ModifierParser" class="def">ModifierParser</a> = <a href="Data-String.html#t:String">String</a> -&gt; <a href="Text-Printf.html#t:FormatParse">FormatParse</a> <a href="src/Text-Printf.html#ModifierParser" class="link">Source</a></p><div class="doc"><p>Type of a function that will parse modifier characters
 from the format string.</p><p><em>Since: 4.7.0.0</em></p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:FormatParse" class="def">FormatParse</a> <a href="src/Text-Printf.html#FormatParse" class="link">Source</a></p><div class="doc"><p>The &quot;format parser&quot; walks over argument-type-specific
 modifier characters to find the primary format character.
 This is the type of its result.</p><p><em>Since: 4.7.0.0</em></p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:FormatParse" class="def">FormatParse</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:fpModifiers" class="def">fpModifiers</a> :: <a href="Data-String.html#t:String">String</a></dt><dd class="doc"><p>Any modifiers found.</p></dd><dt class="src"><a name="v:fpChar" class="def">fpChar</a> :: <a href="Data-Char.html#t:Char">Char</a></dt><dd class="doc"><p>Primary format character.</p></dd><dt class="src"><a name="v:fpRest" class="def">fpRest</a> :: <a href="Data-String.html#t:String">String</a></dt><dd class="doc"><p>Rest of the format string.</p></dd></dl><div class="clear"></div></div></td></tr></table></div></div><h2 id="g:4">Standard Formatters</h2><div class="doc"><p>These formatters for standard types are provided for
 convenience in writting new type-specific formatters:
 a common pattern is to throw to <code><a href="Text-Printf.html#v:formatString">formatString</a></code> or
 <code><a href="Text-Printf.html#v:formatInteger">formatInteger</a></code> to do most of the format handling for
 a new type.</p></div><div class="top"><p class="src"><a name="v:formatString" class="def">formatString</a> :: <a href="Text-Printf.html#t:IsChar">IsChar</a> a =&gt; [a] -&gt; <a href="Text-Printf.html#t:FieldFormatter">FieldFormatter</a> <a href="src/Text-Printf.html#formatString" class="link">Source</a></p><div class="doc"><p>Formatter for <code><a href="Data-String.html#t:String">String</a></code> values.</p><p><em>Since: 4.7.0.0</em></p></div></div><div class="top"><p class="src"><a name="v:formatChar" class="def">formatChar</a> :: <a href="Data-Char.html#t:Char">Char</a> -&gt; <a href="Text-Printf.html#t:FieldFormatter">FieldFormatter</a> <a href="src/Text-Printf.html#formatChar" class="link">Source</a></p><div class="doc"><p>Formatter for <code><a href="Data-Char.html#t:Char">Char</a></code> values.</p><p><em>Since: 4.7.0.0</em></p></div></div><div class="top"><p class="src"><a name="v:formatInt" class="def">formatInt</a> :: (<a href="Prelude.html#t:Integral">Integral</a> a, <a href="Prelude.html#t:Bounded">Bounded</a> a) =&gt; a -&gt; <a href="Text-Printf.html#t:FieldFormatter">FieldFormatter</a> <a href="src/Text-Printf.html#formatInt" class="link">Source</a></p><div class="doc"><p>Formatter for <code><a href="Data-Int.html#t:Int">Int</a></code> values.</p><p><em>Since: 4.7.0.0</em></p></div></div><div class="top"><p class="src"><a name="v:formatInteger" class="def">formatInteger</a> :: <a href="Prelude.html#t:Integer">Integer</a> -&gt; <a href="Text-Printf.html#t:FieldFormatter">FieldFormatter</a> <a href="src/Text-Printf.html#formatInteger" class="link">Source</a></p><div class="doc"><p>Formatter for <code><a href="Prelude.html#t:Integer">Integer</a></code> values.</p><p><em>Since: 4.7.0.0</em></p></div></div><div class="top"><p class="src"><a name="v:formatRealFloat" class="def">formatRealFloat</a> :: <a href="Prelude.html#t:RealFloat">RealFloat</a> a =&gt; a -&gt; <a href="Text-Printf.html#t:FieldFormatter">FieldFormatter</a> <a href="src/Text-Printf.html#formatRealFloat" class="link">Source</a></p><div class="doc"><p>Formatter for <code><a href="Prelude.html#t:RealFloat">RealFloat</a></code> values.</p><p><em>Since: 4.7.0.0</em></p></div></div><h2 id="g:5">Raising Errors</h2><div class="doc"><p>These functions are used internally to raise various
 errors, and are exported for use by new type-specific
 formatters.</p></div><div class="top"><p class="src"><a name="v:errorBadFormat" class="def">errorBadFormat</a> :: <a href="Data-Char.html#t:Char">Char</a> -&gt; a <a href="src/Text-Printf.html#errorBadFormat" class="link">Source</a></p><div class="doc"><p>Calls <code><a href="Text-Printf.html#v:perror">perror</a></code> to indicate an unknown format letter for
 a given type.</p><p><em>Since: 4.7.0.0</em></p></div></div><div class="top"><p class="src"><a name="v:errorShortFormat" class="def">errorShortFormat</a> :: a <a href="src/Text-Printf.html#errorShortFormat" class="link">Source</a></p><div class="doc"><p>Calls <code><a href="Text-Printf.html#v:perror">perror</a></code> to indicate that the format string ended
 early.</p><p><em>Since: 4.7.0.0</em></p></div></div><div class="top"><p class="src"><a name="v:errorMissingArgument" class="def">errorMissingArgument</a> :: a <a href="src/Text-Printf.html#errorMissingArgument" class="link">Source</a></p><div class="doc"><p>Calls <code><a href="Text-Printf.html#v:perror">perror</a></code> to indicate that there is a missing
 argument in the argument list.</p><p><em>Since: 4.7.0.0</em></p></div></div><div class="top"><p class="src"><a name="v:errorBadArgument" class="def">errorBadArgument</a> :: a <a href="src/Text-Printf.html#errorBadArgument" class="link">Source</a></p><div class="doc"><p>Calls <code><a href="Text-Printf.html#v:perror">perror</a></code> to indicate that there is a type
 error or similar in the given argument.</p><p><em>Since: 4.7.0.0</em></p></div></div><div class="top"><p class="src"><a name="v:perror" class="def">perror</a> :: <a href="Data-String.html#t:String">String</a> -&gt; a <a href="src/Text-Printf.html#perror" class="link">Source</a></p><div class="doc"><p>Raises an <code><a href="Prelude.html#v:error">error</a></code> with a printf-specific prefix on the
 message string.</p><p><em>Since: 4.7.0.0</em></p></div></div><h1 id="g:6">Implementation Internals</h1><div class="doc"><p>These types are needed for implementing processing
 variable numbers of arguments to <code><a href="Text-Printf.html#v:printf">printf</a></code> and <code><a href="Text-Printf.html#v:hPrintf">hPrintf</a></code>.
 Their implementation is intentionally not visible from
 this module. If you attempt to pass an argument of a type
 which is not an instance of the appropriate class to
 <code><a href="Text-Printf.html#v:printf">printf</a></code> or <code><a href="Text-Printf.html#v:hPrintf">hPrintf</a></code>, then the compiler will report it
 as a missing instance of <code><a href="Text-Printf.html#t:PrintfArg">PrintfArg</a></code>.  (All <code><a href="Text-Printf.html#t:PrintfArg">PrintfArg</a></code>
 instances are <code><a href="Text-Printf.html#t:PrintfType">PrintfType</a></code> instances.)</p></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:PrintfType" class="def">PrintfType</a> t <a href="src/Text-Printf.html#PrintfType" class="link">Source</a></p><div class="doc"><p>The <code><a href="Text-Printf.html#t:PrintfType">PrintfType</a></code> class provides the variable argument magic for
 <code><a href="Text-Printf.html#v:printf">printf</a></code>.  Its implementation is intentionally not visible from
 this module. If you attempt to pass an argument of a type which
 is not an instance of this class to <code><a href="Text-Printf.html#v:printf">printf</a></code> or <code><a href="Text-Printf.html#v:hPrintf">hPrintf</a></code>, then
 the compiler will report it as a missing instance of <code><a href="Text-Printf.html#t:PrintfArg">PrintfArg</a></code>.</p></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src">spr</p></div><div class="subs instances"><p id="control.i:PrintfType" class="caption collapser" onclick="toggleSection('i:PrintfType')">Instances</p><div id="section.i:PrintfType" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="Text-Printf.html#t:IsChar">IsChar</a> c =&gt; <a href="Text-Printf.html#t:PrintfType">PrintfType</a> [c]</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(~) * a () =&gt; <a href="Text-Printf.html#t:PrintfType">PrintfType</a> (<a href="System-IO.html#t:IO">IO</a> a)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="Text-Printf.html#t:PrintfArg">PrintfArg</a> a, <a href="Text-Printf.html#t:PrintfType">PrintfType</a> r) =&gt; <a href="Text-Printf.html#t:PrintfType">PrintfType</a> (a -&gt; r)</span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:HPrintfType" class="def">HPrintfType</a> t <a href="src/Text-Printf.html#HPrintfType" class="link">Source</a></p><div class="doc"><p>The <code><a href="Text-Printf.html#t:HPrintfType">HPrintfType</a></code> class provides the variable argument magic for
 <code><a href="Text-Printf.html#v:hPrintf">hPrintf</a></code>.  Its implementation is intentionally not visible from
 this module.</p></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src">hspr</p></div><div class="subs instances"><p id="control.i:HPrintfType" class="caption collapser" onclick="toggleSection('i:HPrintfType')">Instances</p><div id="section.i:HPrintfType" class="show"><table><tr><td class="src clearfix"><span class="inst-left">(~) * a () =&gt; <a href="Text-Printf.html#t:HPrintfType">HPrintfType</a> (<a href="System-IO.html#t:IO">IO</a> a)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="Text-Printf.html#t:PrintfArg">PrintfArg</a> a, <a href="Text-Printf.html#t:HPrintfType">HPrintfType</a> r) =&gt; <a href="Text-Printf.html#t:HPrintfType">HPrintfType</a> (a -&gt; r)</span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="doc"><p>This class is needed as a Haskell98 compatibility
 workaround for the lack of FlexibleInstances.</p></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:IsChar" class="def">IsChar</a> c <span class="keyword">where</span> <a href="src/Text-Printf.html#IsChar" class="link">Source</a></p><div class="doc"><p>This class, with only the one instance, is used as
 a workaround for the fact that <code><a href="Data-String.html#t:String">String</a></code>, as a concrete
 type, is not allowable as a typeclass instance. <code><a href="Text-Printf.html#t:IsChar">IsChar</a></code>
 is exported for backward-compatibility.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:toChar" class="def">toChar</a> :: c -&gt; <a href="Data-Char.html#t:Char">Char</a> <a href="src/Text-Printf.html#toChar" class="link">Source</a></p><div class="doc"><p><em>Since: 4.7.0.0</em></p></div><p class="src"><a name="v:fromChar" class="def">fromChar</a> :: <a href="Data-Char.html#t:Char">Char</a> -&gt; c <a href="src/Text-Printf.html#fromChar" class="link">Source</a></p><div class="doc"><p><em>Since: 4.7.0.0</em></p></div></div><div class="subs instances"><p id="control.i:IsChar" class="caption collapser" onclick="toggleSection('i:IsChar')">Instances</p><div id="section.i:IsChar" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="Text-Printf.html#t:IsChar">IsChar</a> <a href="Data-Char.html#t:Char">Char</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>