<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Control.Monad.Free.Church</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Control-Monad-Free-Church.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">free-4.12.4: Monads for free</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>(C) 2011-2015 Edward Kmett</td></tr><tr><th>License</th><td>BSD-style (see the file LICENSE)</td></tr><tr><th>Maintainer</th><td>Edward Kmett &lt;ekmett@gmail.com&gt;</td></tr><tr><th>Stability</th><td>provisional</td></tr><tr><th>Portability</th><td>non-portable (rank-2 polymorphism)</td></tr><tr><th>Safe Haskell</th><td>Safe</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Control.Monad.Free.Church</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>&quot;Free Monads for Less&quot;</p><p>The most straightforward way of implementing free monads is as a recursive
 datatype that allows for arbitrarily deep nesting of the base functor. This is
 akin to a tree, with the leaves containing the values, and the nodes being a
 level of <code><a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a></code> over subtrees.</p><p>For each time that the <code><a href="../base-4.8.2.0/Data-Functor.html#v:fmap">fmap</a></code> or <code><a href="../base-4.8.2.0/Control-Monad.html#v:-62--62--61-">&gt;&gt;=</a></code> operations is used, the old tree is
 traversed up to the leaves, a new set of nodes is allocated, and
 the old ones are garbage collected. Even if the Haskell runtime
 optimizes some of the overhead through laziness and generational garbage
 collection, the asymptotic runtime is still quadratic.</p><p>On the other hand, if the Church encoding is used, the tree only needs to be
 constructed once, because:</p><ul><li>All uses of <code><a href="../base-4.8.2.0/Data-Functor.html#v:fmap">fmap</a></code> are collapsed into a single one, so that the values on the
   _leaves_ are transformed in one pass.</li></ul><pre>fmap f . fmap g == fmap (f . g)</pre><ul><li>All uses of <code><a href="../base-4.8.2.0/Control-Monad.html#v:-62--62--61-">&gt;&gt;=</a></code> are right associated, so that every new subtree created
   is final.</li></ul><pre>(m &gt;&gt;= f) &gt;&gt;= g == m &gt;&gt;= (\x -&gt; f x &gt;&gt;= g)</pre><p>Asymptotically, the Church encoding supports the monadic operations more
 efficiently than the na&#239;ve <code><a href="Control-Monad-Free.html#t:Free">Free</a></code>.</p><p>This is based on the &quot;Free Monads for Less&quot; series of articles by Edward Kmett:</p><ul><li><a href="http://comonad.com/reader/2011/free-monads-for-less/">Free monads for less &#8212; Part 1</a></li><li><a href="http://comonad.com/reader/2011/free-monads-for-less-2/">Free monads for less &#8212; Part 2</a></li></ul></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">newtype</span> <a href="#t:F">F</a> f a = <a href="#v:F">F</a> {<ul class="subs"><li><a href="#v:runF">runF</a> :: <span class="keyword">forall</span> r. (a -&gt; r) -&gt; (f r -&gt; r) -&gt; r</li></ul>}</li><li class="src short"><a href="#v:improve">improve</a> :: <a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f =&gt; (<span class="keyword">forall</span> m. <a href="Control-Monad-Free-Church.html#t:MonadFree">MonadFree</a> f m =&gt; m a) -&gt; <a href="Control-Monad-Free.html#t:Free">Free</a> f a</li><li class="src short"><a href="#v:fromF">fromF</a> :: <a href="Control-Monad-Free-Church.html#t:MonadFree">MonadFree</a> f m =&gt; <a href="Control-Monad-Free-Church.html#t:F">F</a> f a -&gt; m a</li><li class="src short"><a href="#v:iter">iter</a> :: (f a -&gt; a) -&gt; <a href="Control-Monad-Free-Church.html#t:F">F</a> f a -&gt; a</li><li class="src short"><a href="#v:iterM">iterM</a> :: <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (f (m a) -&gt; m a) -&gt; <a href="Control-Monad-Free-Church.html#t:F">F</a> f a -&gt; m a</li><li class="src short"><a href="#v:toF">toF</a> :: <a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f =&gt; <a href="Control-Monad-Free.html#t:Free">Free</a> f a -&gt; <a href="Control-Monad-Free-Church.html#t:F">F</a> f a</li><li class="src short"><a href="#v:retract">retract</a> :: <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Control-Monad-Free-Church.html#t:F">F</a> m a -&gt; m a</li><li class="src short"><a href="#v:hoistF">hoistF</a> :: (<span class="keyword">forall</span> x. f x -&gt; g x) -&gt; <a href="Control-Monad-Free-Church.html#t:F">F</a> f a -&gt; <a href="Control-Monad-Free-Church.html#t:F">F</a> g a</li><li class="src short"><a href="#v:foldF">foldF</a> :: <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (<span class="keyword">forall</span> x. f x -&gt; m x) -&gt; <a href="Control-Monad-Free-Church.html#t:F">F</a> f a -&gt; m a</li><li class="src short"><span class="keyword">class</span> <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="#t:MonadFree">MonadFree</a> f m | m -&gt; f <span class="keyword">where</span><ul class="subs"><li><a href="#v:wrap">wrap</a> :: f (m a) -&gt; m a</li></ul></li><li class="src short"><a href="#v:liftF">liftF</a> :: (<a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f, <a href="Control-Monad-Free-Church.html#t:MonadFree">MonadFree</a> f m) =&gt; f a -&gt; m a</li><li class="src short"><a href="#v:cutoff">cutoff</a> :: <a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f =&gt; <a href="../base-4.8.2.0/Prelude.html#t:Integer">Integer</a> -&gt; <a href="Control-Monad-Free-Church.html#t:F">F</a> f a -&gt; <a href="Control-Monad-Free-Church.html#t:F">F</a> f (<a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> a)</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">newtype</span> <a name="t:F" class="def">F</a> f a</p><div class="doc"><p>The Church-encoded free monad for a functor <code>f</code>.</p><p>It is <em>asymptotically</em> more efficient to use (<code><a href="../base-4.8.2.0/Control-Monad.html#v:-62--62--61-">&gt;&gt;=</a></code>) for <code><a href="Control-Monad-Free-Church.html#t:F">F</a></code> than it is to (<code><a href="../base-4.8.2.0/Control-Monad.html#v:-62--62--61-">&gt;&gt;=</a></code>) with <code><a href="Control-Monad-Free.html#t:Free">Free</a></code>.</p><p><a href="http://comonad.com/reader/2011/free-monads-for-less-2/">http://comonad.com/reader/2011/free-monads-for-less-2/</a></p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:F" class="def">F</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:runF" class="def">runF</a> :: <span class="keyword">forall</span> r. (a -&gt; r) -&gt; (f r -&gt; r) -&gt; r</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:F" class="caption collapser" onclick="toggleSection('i:F')">Instances</p><div id="section.i:F" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../transformers-0.4.2.0/Control-Monad-Trans-Class.html#t:MonadTrans">MonadTrans</a> <a href="Control-Monad-Free-Church.html#t:F">F</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../mtl-2.2.1/Control-Monad-Reader-Class.html#t:MonadReader">MonadReader</a> e m =&gt; <a href="../mtl-2.2.1/Control-Monad-Reader-Class.html#t:MonadReader">MonadReader</a> e (<a href="Control-Monad-Free-Church.html#t:F">F</a> m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../mtl-2.2.1/Control-Monad-State-Class.html#t:MonadState">MonadState</a> s m =&gt; <a href="../mtl-2.2.1/Control-Monad-State-Class.html#t:MonadState">MonadState</a> s (<a href="Control-Monad-Free-Church.html#t:F">F</a> m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../mtl-2.2.1/Control-Monad-Writer-Class.html#t:MonadWriter">MonadWriter</a> w m =&gt; <a href="../mtl-2.2.1/Control-Monad-Writer-Class.html#t:MonadWriter">MonadWriter</a> w (<a href="Control-Monad-Free-Church.html#t:F">F</a> m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f =&gt; <a href="Control-Monad-Free-Church.html#t:MonadFree">MonadFree</a> f (<a href="Control-Monad-Free-Church.html#t:F">F</a> f)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> (<a href="Control-Monad-Free-Church.html#t:F">F</a> f)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> (<a href="Control-Monad-Free-Church.html#t:F">F</a> f)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Control-Monad-Fix.html#t:MonadFix">MonadFix</a> (<a href="Control-Monad-Free-Church.html#t:F">F</a> f)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Control-Applicative.html#t:Applicative">Applicative</a> (<a href="Control-Monad-Free-Church.html#t:F">F</a> f)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Foldable.html#t:Foldable">Foldable</a> f =&gt; <a href="../base-4.8.2.0/Data-Foldable.html#t:Foldable">Foldable</a> (<a href="Control-Monad-Free-Church.html#t:F">F</a> f)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Control-Applicative.html#t:Alternative">Alternative</a> f =&gt; <a href="../base-4.8.2.0/Control-Applicative.html#t:Alternative">Alternative</a> (<a href="Control-Monad-Free-Church.html#t:F">F</a> f)</span></td><td class="doc"><p>This violates the Alternative laws, handle with care.</p></td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Control-Monad.html#t:MonadPlus">MonadPlus</a> f =&gt; <a href="../base-4.8.2.0/Control-Monad.html#t:MonadPlus">MonadPlus</a> (<a href="Control-Monad-Free-Church.html#t:F">F</a> f)</span></td><td class="doc"><p>This violates the MonadPlus laws, handle with care.</p></td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../mtl-2.2.1/Control-Monad-Cont-Class.html#t:MonadCont">MonadCont</a> m =&gt; <a href="../mtl-2.2.1/Control-Monad-Cont-Class.html#t:MonadCont">MonadCont</a> (<a href="Control-Monad-Free-Church.html#t:F">F</a> m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../semigroupoids-5.0.1/Data-Functor-Apply.html#t:Apply">Apply</a> (<a href="Control-Monad-Free-Church.html#t:F">F</a> f)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../semigroupoids-5.0.1/Data-Functor-Bind.html#t:Bind">Bind</a> (<a href="Control-Monad-Free-Church.html#t:F">F</a> f)</span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:improve" class="def">improve</a> :: <a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f =&gt; (<span class="keyword">forall</span> m. <a href="Control-Monad-Free-Church.html#t:MonadFree">MonadFree</a> f m =&gt; m a) -&gt; <a href="Control-Monad-Free.html#t:Free">Free</a> f a</p><div class="doc"><p>Improve the asymptotic performance of code that builds a free monad with only binds and returns by using <code><a href="Control-Monad-Free-Church.html#t:F">F</a></code> behind the scenes.</p><p>This is based on the &quot;Free Monads for Less&quot; series of articles by Edward Kmett:</p><ul><li><a href="http://comonad.com/reader/2011/free-monads-for-less/">Free monads for less &#8212; Part 1</a></li><li><a href="http://comonad.com/reader/2011/free-monads-for-less-2/">Free monads for less &#8212; Part 2</a></li></ul><p>and <a href="http://www.iai.uni-bonn.de/~jv/mpc08.pdf">&quot;Asymptotic Improvement of Computations over Free Monads&quot;</a> by Janis Voightl&#228;nder.</p></div></div><div class="top"><p class="src"><a name="v:fromF" class="def">fromF</a> :: <a href="Control-Monad-Free-Church.html#t:MonadFree">MonadFree</a> f m =&gt; <a href="Control-Monad-Free-Church.html#t:F">F</a> f a -&gt; m a</p><div class="doc"><p>Convert to another free monad representation.</p></div></div><div class="top"><p class="src"><a name="v:iter" class="def">iter</a> :: (f a -&gt; a) -&gt; <a href="Control-Monad-Free-Church.html#t:F">F</a> f a -&gt; a</p><div class="doc"><p>Tear down a <code><a href="Control-Monad-Free.html#t:Free">Free</a></code> <code><a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a></code> using iteration.</p></div></div><div class="top"><p class="src"><a name="v:iterM" class="def">iterM</a> :: <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (f (m a) -&gt; m a) -&gt; <a href="Control-Monad-Free-Church.html#t:F">F</a> f a -&gt; m a</p><div class="doc"><p>Like iter for monadic values.</p></div></div><div class="top"><p class="src"><a name="v:toF" class="def">toF</a> :: <a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f =&gt; <a href="Control-Monad-Free.html#t:Free">Free</a> f a -&gt; <a href="Control-Monad-Free-Church.html#t:F">F</a> f a</p><div class="doc"><p>Generate a Church-encoded free monad from a <code><a href="Control-Monad-Free.html#t:Free">Free</a></code> monad.</p></div></div><div class="top"><p class="src"><a name="v:retract" class="def">retract</a> :: <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Control-Monad-Free-Church.html#t:F">F</a> m a -&gt; m a</p><div class="doc"><p><code><a href="Control-Monad-Free-Church.html#v:retract">retract</a></code> is the left inverse of <code><a href="../transformers-0.4.2.0/Control-Monad-Trans-Class.html#v:lift">lift</a></code> and <code><a href="Control-Monad-Free-Church.html#v:liftF">liftF</a></code></p><pre><code><a href="Control-Monad-Free-Church.html#v:retract">retract</a></code> . <code><a href="../transformers-0.4.2.0/Control-Monad-Trans-Class.html#v:lift">lift</a></code> = <code><a href="../base-4.8.2.0/Data-Function.html#v:id">id</a></code>
<code><a href="Control-Monad-Free-Church.html#v:retract">retract</a></code> . <code><a href="Control-Monad-Free-Church.html#v:liftF">liftF</a></code> = <code><a href="../base-4.8.2.0/Data-Function.html#v:id">id</a></code>
</pre></div></div><div class="top"><p class="src"><a name="v:hoistF" class="def">hoistF</a> :: (<span class="keyword">forall</span> x. f x -&gt; g x) -&gt; <a href="Control-Monad-Free-Church.html#t:F">F</a> f a -&gt; <a href="Control-Monad-Free-Church.html#t:F">F</a> g a</p><div class="doc"><p>Lift a natural transformation from <code>f</code> to <code>g</code> into a natural transformation from <code>F f</code> to <code>F g</code>.</p></div></div><div class="top"><p class="src"><a name="v:foldF" class="def">foldF</a> :: <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (<span class="keyword">forall</span> x. f x -&gt; m x) -&gt; <a href="Control-Monad-Free-Church.html#t:F">F</a> f a -&gt; m a</p><div class="doc"><p>The very definition of a free monad is that given a natural transformation you get a monad homomorphism.</p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a name="t:MonadFree" class="def">MonadFree</a> f m | m -&gt; f <span class="keyword">where</span></p><div class="doc"><p>Monads provide substitution (<code><a href="../base-4.8.2.0/Data-Functor.html#v:fmap">fmap</a></code>) and renormalization (<code><a href="../base-4.8.2.0/Control-Monad.html#v:join">join</a></code>):</p><pre>m <code><a href="../base-4.8.2.0/Control-Monad.html#v:-62--62--61-">&gt;&gt;=</a></code> f = <code><a href="../base-4.8.2.0/Control-Monad.html#v:join">join</a></code> (<code><a href="../base-4.8.2.0/Data-Functor.html#v:fmap">fmap</a></code> f m)</pre><p>A free <code><a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a></code> is one that does no work during the normalization step beyond simply grafting the two monadic values together.</p><p><code>[]</code> is not a free <code><a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a></code> (in this sense) because <code><code><a href="../base-4.8.2.0/Control-Monad.html#v:join">join</a></code> [[a]]</code> smashes the lists flat.</p><p>On the other hand, consider:</p><pre>data Tree a = Bin (Tree a) (Tree a) | Tip a
</pre><pre>instance <code><a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a></code> Tree where
  <code><a href="../base-4.8.2.0/Control-Monad.html#v:return">return</a></code> = Tip
  Tip a <code><a href="../base-4.8.2.0/Control-Monad.html#v:-62--62--61-">&gt;&gt;=</a></code> f = f a
  Bin l r <code><a href="../base-4.8.2.0/Control-Monad.html#v:-62--62--61-">&gt;&gt;=</a></code> f = Bin (l <code><a href="../base-4.8.2.0/Control-Monad.html#v:-62--62--61-">&gt;&gt;=</a></code> f) (r <code><a href="../base-4.8.2.0/Control-Monad.html#v:-62--62--61-">&gt;&gt;=</a></code> f)
</pre><p>This <code><a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a></code> is the free <code><a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a></code> of Pair:</p><pre>data Pair a = Pair a a
</pre><p>And we could make an instance of <code><a href="Control-Monad-Free-Church.html#t:MonadFree">MonadFree</a></code> for it directly:</p><pre>instance <code><a href="Control-Monad-Free-Church.html#t:MonadFree">MonadFree</a></code> Pair Tree where
   <code><a href="Control-Monad-Free-Church.html#v:wrap">wrap</a></code> (Pair l r) = Bin l r
</pre><p>Or we could choose to program with <code><code><a href="Control-Monad-Free.html#v:Free">Free</a></code> Pair</code> instead of <code>Tree</code>
 and thereby avoid having to define our own <code><a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a></code> instance.</p><p>Moreover, <a href="Control-Monad-Free-Church.html">Control.Monad.Free.Church</a> provides a <code><a href="Control-Monad-Free-Church.html#t:MonadFree">MonadFree</a></code>
 instance that can improve the <em>asymptotic</em> complexity of code that
 constructs free monads by effectively reassociating the use of
 (<code><a href="../base-4.8.2.0/Control-Monad.html#v:-62--62--61-">&gt;&gt;=</a></code>). You may also want to take a look at the <code>kan-extensions</code>
 package (<a href="http://hackage.haskell.org/package/kan-extensions">http://hackage.haskell.org/package/kan-extensions</a>).</p><p>See <code><a href="Control-Monad-Free.html#v:Free">Free</a></code> for a more formal definition of the free <code><a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a></code>
 for a <code><a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a></code>.</p></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src">Nothing</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:wrap" class="def">wrap</a> :: f (m a) -&gt; m a</p><div class="doc"><p>Add a layer.</p><pre>wrap (fmap f x) &#8801; wrap (fmap return x) &gt;&gt;= f
</pre></div></div><div class="subs instances"><p id="control.i:MonadFree" class="caption collapser" onclick="toggleSection('i:MonadFree')">Instances</p><div id="section.i:MonadFree" class="show"><table><tr><td class="src clearfix"><span class="inst-left">(<a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f, <a href="Control-Monad-Free-Church.html#t:MonadFree">MonadFree</a> f m) =&gt; <a href="Control-Monad-Free-Church.html#t:MonadFree">MonadFree</a> f (<a href="../mtl-2.2.1/Control-Monad-List.html#t:ListT">ListT</a> m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f, <a href="Control-Monad-Free-Church.html#t:MonadFree">MonadFree</a> f m) =&gt; <a href="Control-Monad-Free-Church.html#t:MonadFree">MonadFree</a> f (<a href="../comonad-4.2.7.2/Control-Comonad-Trans-Identity.html#t:IdentityT">IdentityT</a> m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f, <a href="Control-Monad-Free-Church.html#t:MonadFree">MonadFree</a> f m) =&gt; <a href="Control-Monad-Free-Church.html#t:MonadFree">MonadFree</a> f (<a href="../transformers-0.4.2.0/Control-Monad-Trans-Maybe.html#t:MaybeT">MaybeT</a> m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Control-Applicative.html#t:Applicative">Applicative</a> f =&gt; <a href="Control-Monad-Free-Church.html#t:MonadFree">MonadFree</a> f (<a href="Control-Monad-Free-Ap.html#t:Free">Free</a> f)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f =&gt; <a href="Control-Monad-Free-Church.html#t:MonadFree">MonadFree</a> f (<a href="Control-Monad-Free.html#t:Free">Free</a> f)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f =&gt; <a href="Control-Monad-Free-Church.html#t:MonadFree">MonadFree</a> f (<a href="Control-Monad-Free-Church.html#t:F">F</a> f)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Control-Monad-Free-Church.html#t:MonadFree">MonadFree</a> <a href="../base-4.8.2.0/Data-Functor-Identity.html#t:Identity">Identity</a> (<a href="Control-Monad-Trans-Iter.html#t:IterT">IterT</a> m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f, <a href="Control-Monad-Free-Church.html#t:MonadFree">MonadFree</a> f m) =&gt; <a href="Control-Monad-Free-Church.html#t:MonadFree">MonadFree</a> f (<a href="../mtl-2.2.1/Control-Monad-Except.html#t:ExceptT">ExceptT</a> e m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f, <a href="Control-Monad-Free-Church.html#t:MonadFree">MonadFree</a> f m, <a href="../mtl-2.2.1/Control-Monad-Error-Class.html#t:Error">Error</a> e) =&gt; <a href="Control-Monad-Free-Church.html#t:MonadFree">MonadFree</a> f (<a href="../mtl-2.2.1/Control-Monad-Error.html#t:ErrorT">ErrorT</a> e m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f, <a href="Control-Monad-Free-Church.html#t:MonadFree">MonadFree</a> f m, <a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> w) =&gt; <a href="Control-Monad-Free-Church.html#t:MonadFree">MonadFree</a> f (<a href="../mtl-2.2.1/Control-Monad-Writer-Strict.html#t:WriterT">WriterT</a> w m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f, <a href="Control-Monad-Free-Church.html#t:MonadFree">MonadFree</a> f m, <a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> w) =&gt; <a href="Control-Monad-Free-Church.html#t:MonadFree">MonadFree</a> f (<a href="../mtl-2.2.1/Control-Monad-Writer-Lazy.html#t:WriterT">WriterT</a> w m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f, <a href="Control-Monad-Free-Church.html#t:MonadFree">MonadFree</a> f m) =&gt; <a href="Control-Monad-Free-Church.html#t:MonadFree">MonadFree</a> f (<a href="../mtl-2.2.1/Control-Monad-Cont.html#t:ContT">ContT</a> r m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f, <a href="Control-Monad-Free-Church.html#t:MonadFree">MonadFree</a> f m) =&gt; <a href="Control-Monad-Free-Church.html#t:MonadFree">MonadFree</a> f (<a href="../mtl-2.2.1/Control-Monad-State-Strict.html#t:StateT">StateT</a> s m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f, <a href="Control-Monad-Free-Church.html#t:MonadFree">MonadFree</a> f m) =&gt; <a href="Control-Monad-Free-Church.html#t:MonadFree">MonadFree</a> f (<a href="../mtl-2.2.1/Control-Monad-State-Lazy.html#t:StateT">StateT</a> s m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f, <a href="Control-Monad-Free-Church.html#t:MonadFree">MonadFree</a> f m) =&gt; <a href="Control-Monad-Free-Church.html#t:MonadFree">MonadFree</a> f (<a href="../mtl-2.2.1/Control-Monad-Reader.html#t:ReaderT">ReaderT</a> e m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="../base-4.8.2.0/Control-Applicative.html#t:Applicative">Applicative</a> f, <a href="../base-4.8.2.0/Control-Applicative.html#t:Applicative">Applicative</a> m, <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m) =&gt; <a href="Control-Monad-Free-Church.html#t:MonadFree">MonadFree</a> f (<a href="Control-Monad-Trans-Free-Ap.html#t:FreeT">FreeT</a> f m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f, <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m) =&gt; <a href="Control-Monad-Free-Church.html#t:MonadFree">MonadFree</a> f (<a href="Control-Monad-Trans-Free.html#t:FreeT">FreeT</a> f m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Monad-Free-Church.html#t:MonadFree">MonadFree</a> f (<a href="Control-Monad-Trans-Free-Church.html#t:FT">FT</a> f m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f, <a href="Control-Monad-Free-Church.html#t:MonadFree">MonadFree</a> f m, <a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> w) =&gt; <a href="Control-Monad-Free-Church.html#t:MonadFree">MonadFree</a> f (<a href="../mtl-2.2.1/Control-Monad-RWS-Lazy.html#t:RWST">RWST</a> r w s m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f, <a href="Control-Monad-Free-Church.html#t:MonadFree">MonadFree</a> f m, <a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> w) =&gt; <a href="Control-Monad-Free-Church.html#t:MonadFree">MonadFree</a> f (<a href="../mtl-2.2.1/Control-Monad-RWS-Strict.html#t:RWST">RWST</a> r w s m)</span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:liftF" class="def">liftF</a> :: (<a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f, <a href="Control-Monad-Free-Church.html#t:MonadFree">MonadFree</a> f m) =&gt; f a -&gt; m a</p><div class="doc"><p>A version of lift that can be used with just a Functor for f.</p></div></div><div class="top"><p class="src"><a name="v:cutoff" class="def">cutoff</a> :: <a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f =&gt; <a href="../base-4.8.2.0/Prelude.html#t:Integer">Integer</a> -&gt; <a href="Control-Monad-Free-Church.html#t:F">F</a> f a -&gt; <a href="Control-Monad-Free-Church.html#t:F">F</a> f (<a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> a)</p><div class="doc"><p>Cuts off a tree of computations at a given depth.
 If the depth is 0 or less, no computation nor
 monadic effects will take place.</p><p>Some examples (<code>n &#8805; 0</code>):</p><pre>cutoff 0     _        == return Nothing</pre><pre>cutoff (n+1) . return == return . Just</pre><pre>cutoff (n+1) . lift   == lift . liftM Just</pre><pre>cutoff (n+1) . wrap   == wrap . fmap (cutoff n)</pre><p>Calling <code><code><a href="Control-Monad-Free-Church.html#v:retract">retract</a></code> . <code><a href="Control-Monad-Free-Church.html#v:cutoff">cutoff</a></code> n</code> is always terminating, provided each of the
 steps in the iteration is terminating.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>