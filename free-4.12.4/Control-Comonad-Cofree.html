<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Control.Comonad.Cofree</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Control-Comonad-Cofree.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">free-4.12.4: Monads for free</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>(C) 2008-2013 Edward Kmett</td></tr><tr><th>License</th><td>BSD-style (see the file LICENSE)</td></tr><tr><th>Maintainer</th><td>Edward Kmett &lt;ekmett@gmail.com&gt;</td></tr><tr><th>Stability</th><td>provisional</td></tr><tr><th>Portability</th><td>MPTCs, fundeps</td></tr><tr><th>Safe Haskell</th><td>Safe</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Control.Comonad.Cofree</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Lenses into cofree comonads</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Cofree comonads</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:Cofree">Cofree</a> f a = a <a href="#v::-60-">:&lt;</a> (f (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> f a))</li><li class="src short"><span class="keyword">class</span> (<a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f, <a href="../comonad-4.2.7.2/Control-Comonad.html#t:Comonad">Comonad</a> w) =&gt; <a href="#t:ComonadCofree">ComonadCofree</a> f w | w -&gt; f <span class="keyword">where</span><ul class="subs"><li><a href="#v:unwrap">unwrap</a> :: w a -&gt; f (w a)</li></ul></li><li class="src short"><a href="#v:section">section</a> :: <a href="../comonad-4.2.7.2/Control-Comonad.html#t:Comonad">Comonad</a> f =&gt; f a -&gt; <a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> f a</li><li class="src short"><a href="#v:coiter">coiter</a> :: <a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f =&gt; (a -&gt; f a) -&gt; a -&gt; <a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> f a</li><li class="src short"><a href="#v:coiterW">coiterW</a> :: (<a href="../comonad-4.2.7.2/Control-Comonad.html#t:Comonad">Comonad</a> w, <a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f) =&gt; (w a -&gt; f (w a)) -&gt; w a -&gt; <a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> f a</li><li class="src short"><a href="#v:unfold">unfold</a> :: <a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f =&gt; (b -&gt; (a, f b)) -&gt; b -&gt; <a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> f a</li><li class="src short"><a href="#v:unfoldM">unfoldM</a> :: (<a href="../base-4.8.2.0/Data-Traversable.html#t:Traversable">Traversable</a> f, <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m) =&gt; (b -&gt; m (a, f b)) -&gt; b -&gt; m (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> f a)</li><li class="src short"><a href="#v:hoistCofree">hoistCofree</a> :: <a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f =&gt; (<span class="keyword">forall</span> x. f x -&gt; g x) -&gt; <a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> f a -&gt; <a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> g a</li><li class="src short"><a href="#v:_extract">_extract</a> :: <a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f =&gt; (a -&gt; f a) -&gt; <a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> g a -&gt; f (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> g a)</li><li class="src short"><a href="#v:_unwrap">_unwrap</a> :: <a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f =&gt; (g (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> g a) -&gt; f (g (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> g a))) -&gt; <a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> g a -&gt; f (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> g a)</li><li class="src short"><a href="#v:telescoped">telescoped</a> :: <a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f =&gt; [(<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> g a -&gt; f (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> g a)) -&gt; g (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> g a) -&gt; f (g (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> g a))] -&gt; (a -&gt; f a) -&gt; <a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> g a -&gt; f (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> g a)</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Cofree" class="def">Cofree</a> f a</p><div class="doc"><p>The <code><a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a></code> <code><a href="../comonad-4.2.7.2/Control-Comonad.html#t:Comonad">Comonad</a></code> of a functor <code>f</code>.</p><p><em>Formally</em></p><p>A <code><a href="../comonad-4.2.7.2/Control-Comonad.html#t:Comonad">Comonad</a></code> <code>v</code> is a cofree <code><a href="../comonad-4.2.7.2/Control-Comonad.html#t:Comonad">Comonad</a></code> for <code>f</code> if every comonad homomorphism
 from another comonad <code>w</code> to <code>v</code> is equivalent to a natural transformation
 from <code>w</code> to <code>f</code>.</p><p>A <code>cofree</code> functor is right adjoint to a forgetful functor.</p><p>Cofree is a functor from the category of functors to the category of comonads
 that is right adjoint to the forgetful functor from the category of comonads
 to the category of functors that forgets how to <code><a href="../comonad-4.2.7.2/Control-Comonad.html#v:extract">extract</a></code> and
 <code><a href="../comonad-4.2.7.2/Control-Comonad.html#v:duplicate">duplicate</a></code>, leaving you with only a <code><a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a></code>.</p><p>In practice, cofree comonads are quite useful for annotating syntax trees,
 or talking about streams.</p><p>A number of common comonads arise directly as cofree comonads.</p><p>For instance,</p><ul><li><code><code><a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a></code> <code><a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a></code></code> forms the a comonad for a non-empty list.</li><li><code><code><a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a></code> (<code><a href="../base-4.8.2.0/Control-Applicative.html#t:Const">Const</a></code> b)</code> is a product.</li><li><code><code><a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a></code> <code>Identity</code></code> forms an infinite stream.</li><li><code><code><a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a></code> ((-&gt;) b)'</code> describes a Moore machine with states labeled with values of type a, and transitions on edges of type b.</li></ul><p>Furthermore, if the functor <code>f</code> forms a monoid (for example, by
 being an instance of <code><a href="../base-4.8.2.0/Control-Applicative.html#t:Alternative">Alternative</a></code>), the resulting <code><a href="../comonad-4.2.7.2/Control-Comonad.html#t:Comonad">Comonad</a></code> is
 also a <code><a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a></code>. See
 <a href="http://www.cs.appstate.edu/~johannp/jfp06-revised.pdf">Monadic Augment and Generalised Shortcut Fusion</a> by Neil Ghani et al., Section 4.3
 for more details.</p><p>In particular, if <code>f a &#8801; [a]</code>, the
 resulting data structure is a <a href="https://en.wikipedia.org/wiki/Rose_tree">Rose tree</a>.
 For a practical application, check 
 <a href="https://personal.cis.strath.ac.uk/neil.ghani/papers/ghani-calco07">Higher Dimensional Trees, Algebraically</a> by Neil Ghani et al.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src">a <a name="v::-60-" class="def">:&lt;</a> (f (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> f a)) <span class="fixity">infixr 5</span><span class="rightedge"></span></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Cofree" class="caption collapser" onclick="toggleSection('i:Cofree')">Instances</p><div id="section.i:Cofree" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../comonad-4.2.7.2/Control-Comonad-Hoist-Class.html#t:ComonadHoist">ComonadHoist</a> <a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../comonad-4.2.7.2/Control-Comonad-Trans-Class.html#t:ComonadTrans">ComonadTrans</a> <a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a></span></td><td class="doc"><p>This is not a true <code><a href="../comonad-4.2.7.2/Control-Comonad.html#t:Comonad">Comonad</a></code> transformer, but this instance is convenient.</p></td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../comonad-4.2.7.2/Control-Comonad-Traced-Class.html#t:ComonadTraced">ComonadTraced</a> m w =&gt; <a href="../comonad-4.2.7.2/Control-Comonad-Traced-Class.html#t:ComonadTraced">ComonadTraced</a> m (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> w)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../comonad-4.2.7.2/Control-Comonad-Store-Class.html#t:ComonadStore">ComonadStore</a> s w =&gt; <a href="../comonad-4.2.7.2/Control-Comonad-Store-Class.html#t:ComonadStore">ComonadStore</a> s (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> w)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../comonad-4.2.7.2/Control-Comonad-Env-Class.html#t:ComonadEnv">ComonadEnv</a> e w =&gt; <a href="../comonad-4.2.7.2/Control-Comonad-Env-Class.html#t:ComonadEnv">ComonadEnv</a> e (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> w)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f =&gt; <a href="Control-Comonad-Cofree.html#t:ComonadCofree">ComonadCofree</a> f (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> f)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Control-Applicative.html#t:Alternative">Alternative</a> f =&gt; <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> f)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f =&gt; <a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> f)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Control-Applicative.html#t:Alternative">Alternative</a> f =&gt; <a href="../base-4.8.2.0/Control-Applicative.html#t:Applicative">Applicative</a> (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> f)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Foldable.html#t:Foldable">Foldable</a> f =&gt; <a href="../base-4.8.2.0/Data-Foldable.html#t:Foldable">Foldable</a> (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> f)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Traversable.html#t:Traversable">Traversable</a> f =&gt; <a href="../base-4.8.2.0/Data-Traversable.html#t:Traversable">Traversable</a> (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> f)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="../base-4.8.2.0/Control-Applicative.html#t:Alternative">Alternative</a> f, <a href="../base-4.8.2.0/Control-Monad-Zip.html#t:MonadZip">MonadZip</a> f) =&gt; <a href="../base-4.8.2.0/Control-Monad-Zip.html#t:MonadZip">MonadZip</a> (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> f)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f =&gt; <a href="../comonad-4.2.7.2/Control-Comonad.html#t:Comonad">Comonad</a> (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> f)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../comonad-4.2.7.2/Control-Comonad.html#t:ComonadApply">ComonadApply</a> f =&gt; <a href="../comonad-4.2.7.2/Control-Comonad.html#t:ComonadApply">ComonadApply</a> (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> f)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../distributive-0.5.0.2/Data-Distributive.html#t:Distributive">Distributive</a> f =&gt; <a href="../distributive-0.5.0.2/Data-Distributive.html#t:Distributive">Distributive</a> (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> f)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f, <a href="../prelude-extras-0.4.0.3/Prelude-Extras.html#t:Eq1">Eq1</a> f) =&gt; <a href="../prelude-extras-0.4.0.3/Prelude-Extras.html#t:Eq1">Eq1</a> (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> f)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f, <a href="../prelude-extras-0.4.0.3/Prelude-Extras.html#t:Ord1">Ord1</a> f) =&gt; <a href="../prelude-extras-0.4.0.3/Prelude-Extras.html#t:Ord1">Ord1</a> (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> f)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f, <a href="../prelude-extras-0.4.0.3/Prelude-Extras.html#t:Show1">Show1</a> f) =&gt; <a href="../prelude-extras-0.4.0.3/Prelude-Extras.html#t:Show1">Show1</a> (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> f)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f, <a href="../prelude-extras-0.4.0.3/Prelude-Extras.html#t:Read1">Read1</a> f) =&gt; <a href="../prelude-extras-0.4.0.3/Prelude-Extras.html#t:Read1">Read1</a> (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> f)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../semigroupoids-5.0.1/Data-Semigroup-Traversable-Class.html#t:Traversable1">Traversable1</a> f =&gt; <a href="../semigroupoids-5.0.1/Data-Semigroup-Traversable-Class.html#t:Traversable1">Traversable1</a> (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> f)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../semigroupoids-5.0.1/Data-Functor-Apply.html#t:Apply">Apply</a> f =&gt; <a href="../semigroupoids-5.0.1/Data-Functor-Apply.html#t:Apply">Apply</a> (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> f)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f =&gt; <a href="../semigroupoids-5.0.1/Data-Functor-Extend.html#t:Extend">Extend</a> (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> f)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../semigroupoids-5.0.1/Data-Semigroup-Foldable-Class.html#t:Foldable1">Foldable1</a> f =&gt; <a href="../semigroupoids-5.0.1/Data-Semigroup-Foldable-Class.html#t:Foldable1">Foldable1</a> (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> f)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="../base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> (f (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> f a)), <a href="../base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> a) =&gt; <a href="../base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> f a)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="../base-4.8.2.0/Data-Ord.html#t:Ord">Ord</a> (f (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> f a)), <a href="../base-4.8.2.0/Data-Ord.html#t:Ord">Ord</a> a) =&gt; <a href="../base-4.8.2.0/Data-Ord.html#t:Ord">Ord</a> (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> f a)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="../base-4.8.2.0/Text-Read.html#t:Read">Read</a> (f (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> f a)), <a href="../base-4.8.2.0/Text-Read.html#t:Read">Read</a> a) =&gt; <a href="../base-4.8.2.0/Text-Read.html#t:Read">Read</a> (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> f a)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> (f (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> f a)), <a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> a) =&gt; <a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> f a)</span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> (<a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f, <a href="../comonad-4.2.7.2/Control-Comonad.html#t:Comonad">Comonad</a> w) =&gt; <a name="t:ComonadCofree" class="def">ComonadCofree</a> f w | w -&gt; f <span class="keyword">where</span></p><div class="doc"><p>Allows you to peel a layer off a cofree comonad.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:unwrap" class="def">unwrap</a> :: w a -&gt; f (w a)</p><div class="doc"><p>Remove a layer.</p></div></div><div class="subs instances"><p id="control.i:ComonadCofree" class="caption collapser" onclick="toggleSection('i:ComonadCofree')">Instances</p><div id="section.i:ComonadCofree" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Comonad-Cofree.html#t:ComonadCofree">ComonadCofree</a> [] <a href="../containers-0.5.6.2/Data-Tree.html#t:Tree">Tree</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Comonad-Cofree.html#t:ComonadCofree">ComonadCofree</a> <a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../semigroups-0.18.1/Data-List-NonEmpty.html#t:NonEmpty">NonEmpty</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Comonad-Cofree.html#t:ComonadCofree">ComonadCofree</a> f w =&gt; <a href="Control-Comonad-Cofree.html#t:ComonadCofree">ComonadCofree</a> f (<a href="../comonad-4.2.7.2/Control-Comonad-Trans-Identity.html#t:IdentityT">IdentityT</a> w)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f =&gt; <a href="Control-Comonad-Cofree.html#t:ComonadCofree">ComonadCofree</a> f (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> f)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../comonad-4.2.7.2/Control-Comonad.html#t:Comonad">Comonad</a> w =&gt; <a href="Control-Comonad-Cofree.html#t:ComonadCofree">ComonadCofree</a> <a href="../base-4.8.2.0/Data-Functor-Identity.html#t:Identity">Identity</a> (<a href="Control-Comonad-Trans-Coiter.html#t:CoiterT">CoiterT</a> w)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="Control-Comonad-Cofree.html#t:ComonadCofree">ComonadCofree</a> f w, <a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> m) =&gt; <a href="Control-Comonad-Cofree.html#t:ComonadCofree">ComonadCofree</a> f (<a href="../comonad-4.2.7.2/Control-Comonad-Trans-Traced.html#t:TracedT">TracedT</a> m w)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Comonad-Cofree.html#t:ComonadCofree">ComonadCofree</a> f w =&gt; <a href="Control-Comonad-Cofree.html#t:ComonadCofree">ComonadCofree</a> f (<a href="../comonad-4.2.7.2/Control-Comonad-Trans-Store.html#t:StoreT">StoreT</a> s w)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Comonad-Cofree.html#t:ComonadCofree">ComonadCofree</a> f w =&gt; <a href="Control-Comonad-Cofree.html#t:ComonadCofree">ComonadCofree</a> f (<a href="../comonad-4.2.7.2/Control-Comonad-Trans-Env.html#t:EnvT">EnvT</a> e w)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f, <a href="../comonad-4.2.7.2/Control-Comonad.html#t:Comonad">Comonad</a> w) =&gt; <a href="Control-Comonad-Cofree.html#t:ComonadCofree">ComonadCofree</a> f (<a href="Control-Comonad-Trans-Cofree.html#t:CofreeT">CofreeT</a> f w)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Control-Comonad-Cofree.html#t:ComonadCofree">ComonadCofree</a> (<a href="../base-4.8.2.0/Control-Applicative.html#t:Const">Const</a> b) (<a href="../ghc-prim-0.4.0.0/GHC-Tuple.html#t:-40--44--41-">(,)</a> b)</span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:section" class="def">section</a> :: <a href="../comonad-4.2.7.2/Control-Comonad.html#t:Comonad">Comonad</a> f =&gt; f a -&gt; <a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> f a</p><div class="doc"><pre><code><a href="../comonad-4.2.7.2/Control-Comonad-Trans-Class.html#v:lower">lower</a></code> . <code><a href="Control-Comonad-Cofree.html#v:section">section</a></code> = <code><a href="../base-4.8.2.0/Control-Category.html#v:id">id</a></code></pre></div></div><div class="top"><p class="src"><a name="v:coiter" class="def">coiter</a> :: <a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f =&gt; (a -&gt; f a) -&gt; a -&gt; <a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> f a</p><div class="doc"><p>Use coiteration to generate a cofree comonad from a seed.</p><pre><code><a href="Control-Comonad-Cofree.html#v:coiter">coiter</a></code> f = <code><a href="Control-Comonad-Cofree.html#v:unfold">unfold</a></code> (<code><a href="../base-4.8.2.0/Control-Category.html#v:id">id</a></code> <code><a href="../base-4.8.2.0/Control-Arrow.html#v:-38--38--38-">&amp;&amp;&amp;</a></code> f)</pre></div></div><div class="top"><p class="src"><a name="v:coiterW" class="def">coiterW</a> :: (<a href="../comonad-4.2.7.2/Control-Comonad.html#t:Comonad">Comonad</a> w, <a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f) =&gt; (w a -&gt; f (w a)) -&gt; w a -&gt; <a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> f a</p><div class="doc"><p>Like coiter for comonadic values.</p></div></div><div class="top"><p class="src"><a name="v:unfold" class="def">unfold</a> :: <a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f =&gt; (b -&gt; (a, f b)) -&gt; b -&gt; <a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> f a</p><div class="doc"><p>Unfold a cofree comonad from a seed.</p></div></div><div class="top"><p class="src"><a name="v:unfoldM" class="def">unfoldM</a> :: (<a href="../base-4.8.2.0/Data-Traversable.html#t:Traversable">Traversable</a> f, <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m) =&gt; (b -&gt; m (a, f b)) -&gt; b -&gt; m (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> f a)</p><div class="doc"><p>Unfold a cofree comonad from a seed, monadically.</p></div></div><div class="top"><p class="src"><a name="v:hoistCofree" class="def">hoistCofree</a> :: <a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f =&gt; (<span class="keyword">forall</span> x. f x -&gt; g x) -&gt; <a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> f a -&gt; <a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> g a</p></div><h1 id="g:1">Lenses into cofree comonads</h1><div class="top"><p class="src"><a name="v:_extract" class="def">_extract</a> :: <a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f =&gt; (a -&gt; f a) -&gt; <a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> g a -&gt; f (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> g a)</p><div class="doc"><p>This is a lens that can be used to read or write from the target of <code><a href="../comonad-4.2.7.2/Control-Comonad.html#v:extract">extract</a></code>.</p><p>Using (^.) from the <code>lens</code> package:</p><pre>foo ^. <code><a href="Control-Comonad-Cofree.html#v:_extract">_extract</a></code> == <code><a href="../comonad-4.2.7.2/Control-Comonad.html#v:extract">extract</a></code> foo</pre><p>For more on lenses see the <code>lens</code> package on hackage</p><pre><code><a href="Control-Comonad-Cofree.html#v:_extract">_extract</a></code> :: Lens' (<code><a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a></code> g a) a</pre></div></div><div class="top"><p class="src"><a name="v:_unwrap" class="def">_unwrap</a> :: <a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f =&gt; (g (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> g a) -&gt; f (g (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> g a))) -&gt; <a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> g a -&gt; f (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> g a)</p><div class="doc"><p>This is a lens that can be used to read or write to the tails of a <code><a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a></code> <code><a href="../comonad-4.2.7.2/Control-Comonad.html#t:Comonad">Comonad</a></code>.</p><p>Using (^.) from the <code>lens</code> package:</p><pre>foo ^. <code><a href="Control-Comonad-Cofree.html#v:_unwrap">_unwrap</a></code> == <code><a href="Control-Comonad-Cofree.html#v:unwrap">unwrap</a></code> foo</pre><p>For more on lenses see the <code>lens</code> package on hackage</p><pre><code><a href="Control-Comonad-Cofree.html#v:_unwrap">_unwrap</a></code> :: Lens' (<code><a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a></code> g a) (g (<code><a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a></code> g a))</pre></div></div><div class="top"><p class="src"><a name="v:telescoped" class="def">telescoped</a> :: <a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f =&gt; [(<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> g a -&gt; f (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> g a)) -&gt; g (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> g a) -&gt; f (g (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> g a))] -&gt; (a -&gt; f a) -&gt; <a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> g a -&gt; f (<a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a> g a)</p><div class="doc"><p>Construct an <code>Lens</code> into a <code><code><a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a></code> g</code> given a list of lenses into the base functor.
 When the input list is empty, this is equivalent to <code><a href="Control-Comonad-Cofree.html#v:_extract">_extract</a></code>.
 When the input list is non-empty, this composes the input lenses
 with <code><a href="Control-Comonad-Cofree.html#v:_unwrap">_unwrap</a></code> to walk through the <code><code><a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a></code> g</code> before using
 <code><a href="Control-Comonad-Cofree.html#v:_extract">_extract</a></code> to get the element at the final location.</p><p>For more on lenses see the <code>lens</code> package on hackage.</p><pre>telescoped :: [Lens' (g (<code><a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a></code> g a)) (<code><a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a></code> g a)]      -&gt; Lens' (<code><a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a></code> g a) a</pre><pre>telescoped :: [Traversal' (g (<code><a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a></code> g a)) (<code><a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a></code> g a)] -&gt; Traversal' (<code><a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a></code> g a) a</pre><pre>telescoped :: [Getter (g (<code><a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a></code> g a)) (<code><a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a></code> g a)]     -&gt; Getter (<code><a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a></code> g a) a</pre><pre>telescoped :: [Fold (g (<code><a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a></code> g a)) (<code><a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a></code> g a)]       -&gt; Fold (<code><a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a></code> g a) a</pre><pre>telescoped :: [Setter' (g (<code><a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a></code> g a)) (<code><a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a></code> g a)]    -&gt; Setter' (<code><a href="Control-Comonad-Cofree.html#t:Cofree">Cofree</a></code> g a) a</pre></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>