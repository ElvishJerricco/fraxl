<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Data.Binary.Get</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Data-Binary-Get.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Data-Binary-Get.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">binary-0.7.5.0: Binary serialisation for Haskell values using lazy ByteStrings</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>Lennart Kolmodin</td></tr><tr><th>License</th><td>BSD3-style (see LICENSE)</td></tr><tr><th>Maintainer</th><td>Lennart Kolmodin &lt;kolmodin@gmail.com&gt;</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>portable to Hugs and GHC.</td></tr><tr><th>Safe Haskell</th><td>Trustworthy</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">Data.Binary.Get</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">The Get monad</a></li><li><a href="#g:2">The lazy input interface</a></li><li><a href="#g:3">The incremental input interface</a><ul><li><a href="#g:4">Providing input</a></li></ul></li><li><a href="#g:5">Decoding</a><ul><li><a href="#g:6">ByteStrings</a></li><li><a href="#g:7">Decoding words</a><ul><li><a href="#g:8">Big-endian decoding</a></li><li><a href="#g:9">Little-endian decoding</a></li><li><a href="#g:10">Host-endian, unaligned decoding</a></li></ul></li></ul></li><li><a href="#g:11">Deprecated functions</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>The <code><a href="Data-Binary-Get.html#t:Get">Get</a></code> monad. A monad for efficiently building structures from
 encoded lazy ByteStrings.</p><p>Primitives are available to decode words of various sizes, both big and
 little endian.</p><p>Let's decode binary data representing illustrated here.
 In this example the values are in little endian.</p><pre>+------------------+--------------+-----------------+
| 32 bit timestamp | 32 bit price | 16 bit quantity |
+------------------+--------------+-----------------+</pre><p>A corresponding Haskell value looks like this:</p><pre>data Trade = Trade
  { timestamp :: !<code><a href="../base-4.8.2.0/Data-Word.html#t:Word32">Word32</a></code>
  , price     :: !<code><a href="../base-4.8.2.0/Data-Word.html#t:Word32">Word32</a></code>
  , qty       :: !<code><a href="../base-4.8.2.0/Data-Word.html#t:Word16">Word16</a></code>
  } deriving (<code><a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a></code>)
 </pre><p>The fields in <code>Trade</code> are marked as strict (using <code>!</code>) since we don't need
 laziness here. In practise, you would probably consider using the UNPACK
 pragma as well.
 <a href="http://www.haskell.org/ghc/docs/latest/html/users_guide/pragmas.html#unpack-pragma">http://www.haskell.org/ghc/docs/latest/html/users_guide/pragmas.html#unpack-pragma</a></p><p>Now, let's have a look at a decoder for this format.</p><pre>getTrade :: <code><a href="Data-Binary-Get.html#t:Get">Get</a></code> Trade
getTrade = do
  timestamp &lt;- <code><a href="Data-Binary-Get.html#v:getWord32le">getWord32le</a></code>
  price     &lt;- <code><a href="Data-Binary-Get.html#v:getWord32le">getWord32le</a></code>
  quantity  &lt;- <code><a href="Data-Binary-Get.html#v:getWord16le">getWord16le</a></code>
  return <code><a href="../base-4.8.2.0/Prelude.html#v:-36--33-">$!</a></code> Trade timestamp price quantity
 </pre><p>Or even simpler using applicative style:</p><pre>getTrade' :: <code><a href="Data-Binary-Get.html#t:Get">Get</a></code> Trade
getTrade' = Trade <code><a href="../base-4.8.2.0/Data-Functor.html#v:-60--36--62-">&lt;$&gt;</a></code> <code><a href="Data-Binary-Get.html#v:getWord32le">getWord32le</a></code> <code><a href="../base-4.8.2.0/Control-Applicative.html#v:-60--42--62-">&lt;*&gt;</a></code> <code><a href="Data-Binary-Get.html#v:getWord32le">getWord32le</a></code> <code><a href="../base-4.8.2.0/Control-Applicative.html#v:-60--42--62-">&lt;*&gt;</a></code> <code><a href="Data-Binary-Get.html#v:getWord16le">getWord16le</a></code>
 </pre><p>The applicative style can sometimes result in faster code, as <code>binary</code>
 will try to optimize the code by grouping the reads together.</p><p>There are two kinds of ways to execute this decoder, the lazy input
 method and the incremental input method. Here we will use the lazy
 input method.</p><p>Let's first define a function that decodes many <code>Trade</code>s.</p><pre>getTrades :: Get [Trade]
getTrades = do
  empty &lt;- <code><a href="Data-Binary-Get.html#v:isEmpty">isEmpty</a></code>
  if empty
    then return []
    else do trade &lt;- getTrade
            trades &lt;- getTrades
            return (trade:trades)
 </pre><p>Finally, we run the decoder:</p><pre>lazyIOExample :: IO [Trade]
lazyIOExample = do
  input &lt;- BL.readFile &quot;trades.bin&quot;
  return (<code><a href="Data-Binary-Get.html#v:runGet">runGet</a></code> getTrades input)
 </pre><p>This decoder has the downside that it will need to read all the input before
 it can return. On the other hand, it will not return anything until
 it knows it could decode without any decoder errors.</p><p>You could also refactor to a left-fold, to decode in a more streaming fashion,
 and get the following decoder. It will start to return data without knowing
 that it can decode all input.</p><pre>incrementalExample :: BL.ByteString -&gt; [Trade]
incrementalExample input0 = go decoder input0
  where
    decoder = <code><a href="Data-Binary-Get.html#v:runGetIncremental">runGetIncremental</a></code> getTrade
    go :: <code><a href="Data-Binary-Get.html#t:Decoder">Decoder</a></code> Trade -&gt; BL.ByteString -&gt; [Trade]
    go (<code><a href="Data-Binary-Get.html#v:Done">Done</a></code> leftover _consumed trade) input =
      trade : go decoder (BL.chunk leftover input)
    go (<code><a href="Data-Binary-Get.html#v:Partial">Partial</a></code> k) input                     =
      go (k . takeHeadChunk $ input) (dropHeadChunk input)
    go (<code><a href="Data-Binary-Get.html#v:Fail">Fail</a></code> _leftover _consumed msg) _input =
      error msg

takeHeadChunk :: BL.ByteString -&gt; Maybe BS.ByteString
takeHeadChunk lbs =
  case lbs of
    (BL.Chunk bs _) -&gt; Just bs
    _ -&gt; Nothing

dropHeadChunk :: BL.ByteString -&gt; BL.ByteString
dropHeadChunk lbs =
  case lbs of
    (BL.Chunk _ lbs') -&gt; lbs'
    _ -&gt; BL.Empty
 </pre><p>The <code>lazyIOExample</code> uses lazy I/O to read the file from the disk, which is
 not suitable in all applications, and certainly not if you need to read
 from a socket which has higher likelihood to fail. To address these needs,
 use the incremental input method like in <code>incrementalExample</code>.
 For an example of how to read incrementally from a Handle,
 see the implementation of <code>decodeFileOrFail</code> in <a href="Data-Binary.html">Data.Binary</a>.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:Get">Get</a> a</li><li class="src short"><a href="#v:runGet">runGet</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> a -&gt; <a href="../bytestring-0.10.6.0/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> -&gt; a</li><li class="src short"><a href="#v:runGetOrFail">runGetOrFail</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> a -&gt; <a href="../bytestring-0.10.6.0/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> -&gt; <a href="../base-4.8.2.0/Data-Either.html#t:Either">Either</a> (<a href="../bytestring-0.10.6.0/Data-ByteString-Lazy.html#t:ByteString">ByteString</a>, <a href="Data-Binary-Get.html#t:ByteOffset">ByteOffset</a>, <a href="../base-4.8.2.0/Data-String.html#t:String">String</a>) (<a href="../bytestring-0.10.6.0/Data-ByteString-Lazy.html#t:ByteString">ByteString</a>, <a href="Data-Binary-Get.html#t:ByteOffset">ByteOffset</a>, a)</li><li class="src short"><span class="keyword">type</span> <a href="#t:ByteOffset">ByteOffset</a> = <a href="../base-4.8.2.0/Data-Int.html#t:Int64">Int64</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Decoder">Decoder</a> a<ul class="subs"><li>= <a href="#v:Fail">Fail</a> !<a href="../bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a> !<a href="Data-Binary-Get.html#t:ByteOffset">ByteOffset</a> <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></li><li>| <a href="#v:Partial">Partial</a> (<a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="Data-Binary-Get.html#t:Decoder">Decoder</a> a)</li><li>| <a href="#v:Done">Done</a> !<a href="../bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a> !<a href="Data-Binary-Get.html#t:ByteOffset">ByteOffset</a> a</li></ul></li><li class="src short"><a href="#v:runGetIncremental">runGetIncremental</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> a -&gt; <a href="Data-Binary-Get.html#t:Decoder">Decoder</a> a</li><li class="src short"><a href="#v:pushChunk">pushChunk</a> :: <a href="Data-Binary-Get.html#t:Decoder">Decoder</a> a -&gt; <a href="../bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="Data-Binary-Get.html#t:Decoder">Decoder</a> a</li><li class="src short"><a href="#v:pushChunks">pushChunks</a> :: <a href="Data-Binary-Get.html#t:Decoder">Decoder</a> a -&gt; <a href="../bytestring-0.10.6.0/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> -&gt; <a href="Data-Binary-Get.html#t:Decoder">Decoder</a> a</li><li class="src short"><a href="#v:pushEndOfInput">pushEndOfInput</a> :: <a href="Data-Binary-Get.html#t:Decoder">Decoder</a> a -&gt; <a href="Data-Binary-Get.html#t:Decoder">Decoder</a> a</li><li class="src short"><a href="#v:skip">skip</a> :: <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="Data-Binary-Get.html#t:Get">Get</a> ()</li><li class="src short"><a href="#v:isEmpty">isEmpty</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:bytesRead">bytesRead</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int64">Int64</a></li><li class="src short"><a href="#v:isolate">isolate</a> :: <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="Data-Binary-Get.html#t:Get">Get</a> a -&gt; <a href="Data-Binary-Get.html#t:Get">Get</a> a</li><li class="src short"><a href="#v:lookAhead">lookAhead</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> a -&gt; <a href="Data-Binary-Get.html#t:Get">Get</a> a</li><li class="src short"><a href="#v:lookAheadM">lookAheadM</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> (<a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> a) -&gt; <a href="Data-Binary-Get.html#t:Get">Get</a> (<a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> a)</li><li class="src short"><a href="#v:lookAheadE">lookAheadE</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> (<a href="../base-4.8.2.0/Data-Either.html#t:Either">Either</a> a b) -&gt; <a href="Data-Binary-Get.html#t:Get">Get</a> (<a href="../base-4.8.2.0/Data-Either.html#t:Either">Either</a> a b)</li><li class="src short"><a href="#v:label">label</a> :: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; <a href="Data-Binary-Get.html#t:Get">Get</a> a -&gt; <a href="Data-Binary-Get.html#t:Get">Get</a> a</li><li class="src short"><a href="#v:getByteString">getByteString</a> :: <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="Data-Binary-Get.html#t:Get">Get</a> <a href="../bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a></li><li class="src short"><a href="#v:getLazyByteString">getLazyByteString</a> :: <a href="../base-4.8.2.0/Data-Int.html#t:Int64">Int64</a> -&gt; <a href="Data-Binary-Get.html#t:Get">Get</a> <a href="../bytestring-0.10.6.0/Data-ByteString-Lazy.html#t:ByteString">ByteString</a></li><li class="src short"><a href="#v:getLazyByteStringNul">getLazyByteStringNul</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> <a href="../bytestring-0.10.6.0/Data-ByteString-Lazy.html#t:ByteString">ByteString</a></li><li class="src short"><a href="#v:getRemainingLazyByteString">getRemainingLazyByteString</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> <a href="../bytestring-0.10.6.0/Data-ByteString-Lazy.html#t:ByteString">ByteString</a></li><li class="src short"><a href="#v:getWord8">getWord8</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> <a href="../base-4.8.2.0/Data-Word.html#t:Word8">Word8</a></li><li class="src short"><a href="#v:getWord16be">getWord16be</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> <a href="../base-4.8.2.0/Data-Word.html#t:Word16">Word16</a></li><li class="src short"><a href="#v:getWord32be">getWord32be</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> <a href="../base-4.8.2.0/Data-Word.html#t:Word32">Word32</a></li><li class="src short"><a href="#v:getWord64be">getWord64be</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> <a href="../base-4.8.2.0/Data-Word.html#t:Word64">Word64</a></li><li class="src short"><a href="#v:getWord16le">getWord16le</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> <a href="../base-4.8.2.0/Data-Word.html#t:Word16">Word16</a></li><li class="src short"><a href="#v:getWord32le">getWord32le</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> <a href="../base-4.8.2.0/Data-Word.html#t:Word32">Word32</a></li><li class="src short"><a href="#v:getWord64le">getWord64le</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> <a href="../base-4.8.2.0/Data-Word.html#t:Word64">Word64</a></li><li class="src short"><a href="#v:getWordhost">getWordhost</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> <a href="../base-4.8.2.0/Data-Word.html#t:Word">Word</a></li><li class="src short"><a href="#v:getWord16host">getWord16host</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> <a href="../base-4.8.2.0/Data-Word.html#t:Word16">Word16</a></li><li class="src short"><a href="#v:getWord32host">getWord32host</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> <a href="../base-4.8.2.0/Data-Word.html#t:Word32">Word32</a></li><li class="src short"><a href="#v:getWord64host">getWord64host</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> <a href="../base-4.8.2.0/Data-Word.html#t:Word64">Word64</a></li><li class="src short"><a href="#v:runGetState">runGetState</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> a -&gt; <a href="../bytestring-0.10.6.0/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> -&gt; <a href="Data-Binary-Get.html#t:ByteOffset">ByteOffset</a> -&gt; (a, <a href="../bytestring-0.10.6.0/Data-ByteString-Lazy.html#t:ByteString">ByteString</a>, <a href="Data-Binary-Get.html#t:ByteOffset">ByteOffset</a>)</li><li class="src short"><a href="#v:remaining">remaining</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int64">Int64</a></li><li class="src short"><a href="#v:getBytes">getBytes</a> :: <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="Data-Binary-Get.html#t:Get">Get</a> <a href="../bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a></li></ul></div><div id="interface"><h1 id="g:1">The Get monad</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Get" class="def">Get</a> a <a href="src/Data-Binary-Get-Internal.html#Get" class="link">Source</a></p><div class="subs instances"><p id="control.i:Get" class="caption collapser" onclick="toggleSection('i:Get')">Instances</p><div id="section.i:Get" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> <a href="Data-Binary-Get.html#t:Get">Get</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> <a href="Data-Binary-Get.html#t:Get">Get</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Control-Applicative.html#t:Applicative">Applicative</a> <a href="Data-Binary-Get.html#t:Get">Get</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Control-Applicative.html#t:Alternative">Alternative</a> <a href="Data-Binary-Get.html#t:Get">Get</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Control-Monad.html#t:MonadPlus">MonadPlus</a> <a href="Data-Binary-Get.html#t:Get">Get</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:2">The lazy input interface</h1><div class="doc"><p>The lazy interface consumes a single lazy <code><a href="../bytestring-0.10.6.0/Data-ByteString-Lazy.html#t:ByteString">ByteString</a></code>. It's the easiest
 interface to get started with, but it doesn't support interleaving I/O and
 parsing, unless lazy I/O is used.</p><p>There is no way to provide more input other than the initial data. To be
 able to incrementally give more data, see the incremental input interface.</p></div><div class="top"><p class="src"><a name="v:runGet" class="def">runGet</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> a -&gt; <a href="../bytestring-0.10.6.0/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> -&gt; a <a href="src/Data-Binary-Get.html#runGet" class="link">Source</a></p><div class="doc"><p>The simplest interface to run a <code><a href="Data-Binary-Get.html#t:Get">Get</a></code> decoder. If the decoder runs into
 an error, calls <code><a href="../base-4.8.2.0/Control-Monad.html#v:fail">fail</a></code>, or runs out of input, it will call <code><a href="../base-4.8.2.0/Prelude.html#v:error">error</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:runGetOrFail" class="def">runGetOrFail</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> a -&gt; <a href="../bytestring-0.10.6.0/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> -&gt; <a href="../base-4.8.2.0/Data-Either.html#t:Either">Either</a> (<a href="../bytestring-0.10.6.0/Data-ByteString-Lazy.html#t:ByteString">ByteString</a>, <a href="Data-Binary-Get.html#t:ByteOffset">ByteOffset</a>, <a href="../base-4.8.2.0/Data-String.html#t:String">String</a>) (<a href="../bytestring-0.10.6.0/Data-ByteString-Lazy.html#t:ByteString">ByteString</a>, <a href="Data-Binary-Get.html#t:ByteOffset">ByteOffset</a>, a) <a href="src/Data-Binary-Get.html#runGetOrFail" class="link">Source</a></p><div class="doc"><p>Run a <code><a href="Data-Binary-Get.html#t:Get">Get</a></code> monad and return <code><a href="../base-4.8.2.0/Data-Either.html#v:Left">Left</a></code> on failure and <code><a href="../base-4.8.2.0/Data-Either.html#v:Right">Right</a></code> on
 success. In both cases any unconsumed input and the number of bytes
 consumed is returned. In the case of failure, a human-readable
 error message is included as well.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:ByteOffset" class="def">ByteOffset</a> = <a href="../base-4.8.2.0/Data-Int.html#t:Int64">Int64</a> <a href="src/Data-Binary-Get.html#ByteOffset" class="link">Source</a></p><div class="doc"><p>An offset, counted in bytes.</p></div></div><h1 id="g:3">The incremental input interface</h1><div class="doc"><p>The incremental interface gives you more control over how input is
 provided during parsing. This lets you e.g. interleave parsing and
 I/O.</p><p>The incremental interface consumes a strict <code><a href="../bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a></code> at a time, each
 being part of the total amount of input. If your decoder needs more input to
 finish it will return a <code><a href="Data-Binary-Get.html#v:Partial">Partial</a></code> with a continuation.
 If there is no more input, provide it <code><a href="../base-4.8.2.0/Data-Maybe.html#v:Nothing">Nothing</a></code>.</p><p><code><a href="Data-Binary-Get.html#v:Fail">Fail</a></code> will be returned if it runs into an error, together with a message,
 the position and the remaining input.
 If it succeeds it will return <code><a href="Data-Binary-Get.html#v:Done">Done</a></code> with the resulting value,
 the position and the remaining input.</p></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Decoder" class="def">Decoder</a> a <a href="src/Data-Binary-Get.html#Decoder" class="link">Source</a></p><div class="doc"><p>A decoder procuced by running a <code><a href="Data-Binary-Get.html#t:Get">Get</a></code> monad.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Fail" class="def">Fail</a> !<a href="../bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a> !<a href="Data-Binary-Get.html#t:ByteOffset">ByteOffset</a> <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></td><td class="doc"><p>The decoder ran into an error. The decoder either used
 <code><a href="../base-4.8.2.0/Control-Monad.html#v:fail">fail</a></code> or was not provided enough input. Contains any
 unconsumed input and the number of bytes consumed.</p></td></tr><tr><td class="src"><a name="v:Partial" class="def">Partial</a> (<a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="Data-Binary-Get.html#t:Decoder">Decoder</a> a)</td><td class="doc"><p>The decoder has consumed the available input and needs
 more to continue. Provide <code><a href="../base-4.8.2.0/Data-Maybe.html#v:Just">Just</a></code> if more input is available
 and <code><a href="../base-4.8.2.0/Data-Maybe.html#v:Nothing">Nothing</a></code> otherwise, and you will get a new <code><a href="Data-Binary-Get.html#t:Decoder">Decoder</a></code>.</p></td></tr><tr><td class="src"><a name="v:Done" class="def">Done</a> !<a href="../bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a> !<a href="Data-Binary-Get.html#t:ByteOffset">ByteOffset</a> a</td><td class="doc"><p>The decoder has successfully finished. Except for the
 output value you also get any unused input as well as the
 number of bytes consumed.</p></td></tr></table></div></div><div class="top"><p class="src"><a name="v:runGetIncremental" class="def">runGetIncremental</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> a -&gt; <a href="Data-Binary-Get.html#t:Decoder">Decoder</a> a <a href="src/Data-Binary-Get.html#runGetIncremental" class="link">Source</a></p><div class="doc"><p>Run a <code><a href="Data-Binary-Get.html#t:Get">Get</a></code> monad. See <code><a href="Data-Binary-Get.html#t:Decoder">Decoder</a></code> for what to do next, like providing
 input, handling decoder errors and to get the output value.
 Hint: Use the helper functions <code><a href="Data-Binary-Get.html#v:pushChunk">pushChunk</a></code>, <code><a href="Data-Binary-Get.html#v:pushChunks">pushChunks</a></code> and
 <code><a href="Data-Binary-Get.html#v:pushEndOfInput">pushEndOfInput</a></code>.</p></div></div><h2 id="g:4">Providing input</h2><div class="top"><p class="src"><a name="v:pushChunk" class="def">pushChunk</a> :: <a href="Data-Binary-Get.html#t:Decoder">Decoder</a> a -&gt; <a href="../bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="Data-Binary-Get.html#t:Decoder">Decoder</a> a <a href="src/Data-Binary-Get.html#pushChunk" class="link">Source</a></p><div class="doc"><p>Feed a <code><a href="Data-Binary-Get.html#t:Decoder">Decoder</a></code> with more input. If the <code><a href="Data-Binary-Get.html#t:Decoder">Decoder</a></code> is <code><a href="Data-Binary-Get.html#v:Done">Done</a></code> or <code><a href="Data-Binary-Get.html#v:Fail">Fail</a></code> it
 will add the input to <code><a href="../bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a></code> of unconsumed input.</p><pre>   <code><a href="Data-Binary-Get.html#v:runGetIncremental">runGetIncremental</a></code> myParser `pushChunk` myInput1 `pushChunk` myInput2
</pre></div></div><div class="top"><p class="src"><a name="v:pushChunks" class="def">pushChunks</a> :: <a href="Data-Binary-Get.html#t:Decoder">Decoder</a> a -&gt; <a href="../bytestring-0.10.6.0/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> -&gt; <a href="Data-Binary-Get.html#t:Decoder">Decoder</a> a <a href="src/Data-Binary-Get.html#pushChunks" class="link">Source</a></p><div class="doc"><p>Feed a <code><a href="Data-Binary-Get.html#t:Decoder">Decoder</a></code> with more input. If the <code><a href="Data-Binary-Get.html#t:Decoder">Decoder</a></code> is <code><a href="Data-Binary-Get.html#v:Done">Done</a></code> or <code><a href="Data-Binary-Get.html#v:Fail">Fail</a></code> it
 will add the input to <code>ByteString</code> of unconsumed input.</p><pre>   <code><a href="Data-Binary-Get.html#v:runGetIncremental">runGetIncremental</a></code> myParser `pushChunks` myLazyByteString
</pre></div></div><div class="top"><p class="src"><a name="v:pushEndOfInput" class="def">pushEndOfInput</a> :: <a href="Data-Binary-Get.html#t:Decoder">Decoder</a> a -&gt; <a href="Data-Binary-Get.html#t:Decoder">Decoder</a> a <a href="src/Data-Binary-Get.html#pushEndOfInput" class="link">Source</a></p><div class="doc"><p>Tell a <code><a href="Data-Binary-Get.html#t:Decoder">Decoder</a></code> that there is no more input. This passes <code><a href="../base-4.8.2.0/Data-Maybe.html#v:Nothing">Nothing</a></code> to a
 <code><a href="Data-Binary-Get.html#v:Partial">Partial</a></code> decoder, otherwise returns the decoder unchanged.</p></div></div><h1 id="g:5">Decoding</h1><div class="top"><p class="src"><a name="v:skip" class="def">skip</a> :: <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="Data-Binary-Get.html#t:Get">Get</a> () <a href="src/Data-Binary-Get.html#skip" class="link">Source</a></p><div class="doc"><p>Skip ahead <code>n</code> bytes. Fails if fewer than <code>n</code> bytes are available.</p></div></div><div class="top"><p class="src"><a name="v:isEmpty" class="def">isEmpty</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/Data-Binary-Get-Internal.html#isEmpty" class="link">Source</a></p><div class="doc"><p>Test whether all input has been consumed, i.e. there are no remaining
 undecoded bytes.</p></div></div><div class="top"><p class="src"><a name="v:bytesRead" class="def">bytesRead</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int64">Int64</a> <a href="src/Data-Binary-Get-Internal.html#bytesRead" class="link">Source</a></p><div class="doc"><p>Get the total number of bytes read to this point.</p></div></div><div class="top"><p class="src"><a name="v:isolate" class="def">isolate</a> <a href="src/Data-Binary-Get-Internal.html#isolate" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>The number of bytes that must be consumed</p></td></tr><tr><td class="src">-&gt; <a href="Data-Binary-Get.html#t:Get">Get</a> a</td><td class="doc"><p>The decoder to isolate</p></td></tr><tr><td class="src">-&gt; <a href="Data-Binary-Get.html#t:Get">Get</a> a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Isolate a decoder to operate with a fixed number of bytes, and fail if
 fewer bytes were consumed, or more bytes were attempted to be consumed.
 If the given decoder fails, <code><a href="Data-Binary-Get.html#v:isolate">isolate</a></code> will also fail.
 Offset from <code><a href="Data-Binary-Get.html#v:bytesRead">bytesRead</a></code> will be relative to the start of <code><a href="Data-Binary-Get.html#v:isolate">isolate</a></code>, not the
 absolute of the input.</p></div></div><div class="top"><p class="src"><a name="v:lookAhead" class="def">lookAhead</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> a -&gt; <a href="Data-Binary-Get.html#t:Get">Get</a> a <a href="src/Data-Binary-Get-Internal.html#lookAhead" class="link">Source</a></p><div class="doc"><p>Run the given decoder, but without consuming its input. If the given
 decoder fails, then so will this function.</p></div></div><div class="top"><p class="src"><a name="v:lookAheadM" class="def">lookAheadM</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> (<a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> a) -&gt; <a href="Data-Binary-Get.html#t:Get">Get</a> (<a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> a) <a href="src/Data-Binary-Get-Internal.html#lookAheadM" class="link">Source</a></p><div class="doc"><p>Run the given decoder, and only consume its input if it returns <code><a href="../base-4.8.2.0/Data-Maybe.html#v:Just">Just</a></code>.
 If <code><a href="../base-4.8.2.0/Data-Maybe.html#v:Nothing">Nothing</a></code> is returned, the input will be unconsumed.
 If the given decoder fails, then so will this function.</p></div></div><div class="top"><p class="src"><a name="v:lookAheadE" class="def">lookAheadE</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> (<a href="../base-4.8.2.0/Data-Either.html#t:Either">Either</a> a b) -&gt; <a href="Data-Binary-Get.html#t:Get">Get</a> (<a href="../base-4.8.2.0/Data-Either.html#t:Either">Either</a> a b) <a href="src/Data-Binary-Get-Internal.html#lookAheadE" class="link">Source</a></p><div class="doc"><p>Run the given decoder, and only consume its input if it returns <code><a href="../base-4.8.2.0/Data-Either.html#v:Right">Right</a></code>.
 If <code><a href="../base-4.8.2.0/Data-Either.html#v:Left">Left</a></code> is returned, the input will be unconsumed.
 If the given decoder fails, then so will this function.</p></div></div><div class="top"><p class="src"><a name="v:label" class="def">label</a> :: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; <a href="Data-Binary-Get.html#t:Get">Get</a> a -&gt; <a href="Data-Binary-Get.html#t:Get">Get</a> a <a href="src/Data-Binary-Get-Internal.html#label" class="link">Source</a></p></div><h2 id="g:6">ByteStrings</h2><div class="top"><p class="src"><a name="v:getByteString" class="def">getByteString</a> :: <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="Data-Binary-Get.html#t:Get">Get</a> <a href="../bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a> <a href="src/Data-Binary-Get-Internal.html#getByteString" class="link">Source</a></p><div class="doc"><p>An efficient get method for strict ByteStrings. Fails if fewer than <code>n</code>
 bytes are left in the input. If <code>n &lt;= 0</code> then the empty string is returned.</p></div></div><div class="top"><p class="src"><a name="v:getLazyByteString" class="def">getLazyByteString</a> :: <a href="../base-4.8.2.0/Data-Int.html#t:Int64">Int64</a> -&gt; <a href="Data-Binary-Get.html#t:Get">Get</a> <a href="../bytestring-0.10.6.0/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> <a href="src/Data-Binary-Get.html#getLazyByteString" class="link">Source</a></p><div class="doc"><p>An efficient get method for lazy ByteStrings. Fails if fewer than <code>n</code>
 bytes are left in the input.</p></div></div><div class="top"><p class="src"><a name="v:getLazyByteStringNul" class="def">getLazyByteStringNul</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> <a href="../bytestring-0.10.6.0/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> <a href="src/Data-Binary-Get.html#getLazyByteStringNul" class="link">Source</a></p><div class="doc"><p>Get a lazy ByteString that is terminated with a NUL byte.
 The returned string does not contain the NUL byte. Fails
 if it reaches the end of input without finding a NUL.</p></div></div><div class="top"><p class="src"><a name="v:getRemainingLazyByteString" class="def">getRemainingLazyByteString</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> <a href="../bytestring-0.10.6.0/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> <a href="src/Data-Binary-Get.html#getRemainingLazyByteString" class="link">Source</a></p><div class="doc"><p>Get the remaining bytes as a lazy ByteString.
 Note that this can be an expensive function to use as it forces reading
 all input and keeping the string in-memory.</p></div></div><h2 id="g:7">Decoding words</h2><div class="top"><p class="src"><a name="v:getWord8" class="def">getWord8</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> <a href="../base-4.8.2.0/Data-Word.html#t:Word8">Word8</a> <a href="src/Data-Binary-Get.html#getWord8" class="link">Source</a></p><div class="doc"><p>Read a Word8 from the monad state</p></div></div><h3 id="g:8">Big-endian decoding</h3><div class="top"><p class="src"><a name="v:getWord16be" class="def">getWord16be</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> <a href="../base-4.8.2.0/Data-Word.html#t:Word16">Word16</a> <a href="src/Data-Binary-Get.html#getWord16be" class="link">Source</a></p><div class="doc"><p>Read a Word16 in big endian format</p></div></div><div class="top"><p class="src"><a name="v:getWord32be" class="def">getWord32be</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> <a href="../base-4.8.2.0/Data-Word.html#t:Word32">Word32</a> <a href="src/Data-Binary-Get.html#getWord32be" class="link">Source</a></p><div class="doc"><p>Read a Word32 in big endian format</p></div></div><div class="top"><p class="src"><a name="v:getWord64be" class="def">getWord64be</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> <a href="../base-4.8.2.0/Data-Word.html#t:Word64">Word64</a> <a href="src/Data-Binary-Get.html#getWord64be" class="link">Source</a></p><div class="doc"><p>Read a Word64 in big endian format</p></div></div><h3 id="g:9">Little-endian decoding</h3><div class="top"><p class="src"><a name="v:getWord16le" class="def">getWord16le</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> <a href="../base-4.8.2.0/Data-Word.html#t:Word16">Word16</a> <a href="src/Data-Binary-Get.html#getWord16le" class="link">Source</a></p><div class="doc"><p>Read a Word16 in little endian format</p></div></div><div class="top"><p class="src"><a name="v:getWord32le" class="def">getWord32le</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> <a href="../base-4.8.2.0/Data-Word.html#t:Word32">Word32</a> <a href="src/Data-Binary-Get.html#getWord32le" class="link">Source</a></p><div class="doc"><p>Read a Word32 in little endian format</p></div></div><div class="top"><p class="src"><a name="v:getWord64le" class="def">getWord64le</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> <a href="../base-4.8.2.0/Data-Word.html#t:Word64">Word64</a> <a href="src/Data-Binary-Get.html#getWord64le" class="link">Source</a></p><div class="doc"><p>Read a Word64 in little endian format</p></div></div><h3 id="g:10">Host-endian, unaligned decoding</h3><div class="top"><p class="src"><a name="v:getWordhost" class="def">getWordhost</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> <a href="../base-4.8.2.0/Data-Word.html#t:Word">Word</a> <a href="src/Data-Binary-Get.html#getWordhost" class="link">Source</a></p><div class="doc"><p><em>O(1).</em> Read a single native machine word. The word is read in
 host order, host endian form, for the machine you're on. On a 64 bit
 machine the Word is an 8 byte value, on a 32 bit machine, 4 bytes.</p></div></div><div class="top"><p class="src"><a name="v:getWord16host" class="def">getWord16host</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> <a href="../base-4.8.2.0/Data-Word.html#t:Word16">Word16</a> <a href="src/Data-Binary-Get.html#getWord16host" class="link">Source</a></p><div class="doc"><p><em>O(1).</em> Read a 2 byte Word16 in native host order and host endianness.</p></div></div><div class="top"><p class="src"><a name="v:getWord32host" class="def">getWord32host</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> <a href="../base-4.8.2.0/Data-Word.html#t:Word32">Word32</a> <a href="src/Data-Binary-Get.html#getWord32host" class="link">Source</a></p><div class="doc"><p><em>O(1).</em> Read a Word32 in native host order and host endianness.</p></div></div><div class="top"><p class="src"><a name="v:getWord64host" class="def">getWord64host</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> <a href="../base-4.8.2.0/Data-Word.html#t:Word64">Word64</a> <a href="src/Data-Binary-Get.html#getWord64host" class="link">Source</a></p><div class="doc"><p><em>O(1).</em> Read a Word64 in native host order and host endianess.</p></div></div><h1 id="g:11">Deprecated functions</h1><div class="top"><p class="src"><a name="v:runGetState" class="def">runGetState</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> a -&gt; <a href="../bytestring-0.10.6.0/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> -&gt; <a href="Data-Binary-Get.html#t:ByteOffset">ByteOffset</a> -&gt; (a, <a href="../bytestring-0.10.6.0/Data-ByteString-Lazy.html#t:ByteString">ByteString</a>, <a href="Data-Binary-Get.html#t:ByteOffset">ByteOffset</a>) <a href="src/Data-Binary-Get.html#runGetState" class="link">Source</a></p><div class="doc"><div class="warning"><p>Deprecated: Use runGetIncremental instead. This function will be removed.</p></div><p>DEPRECATED. Provides compatibility with previous versions of this library.
 Run a <code><a href="Data-Binary-Get.html#t:Get">Get</a></code> monad and return a tuple with three values.
 The first value is the result of the decoder. The second and third are the
 unused input, and the number of consumed bytes.</p></div></div><div class="top"><p class="src"><a name="v:remaining" class="def">remaining</a> :: <a href="Data-Binary-Get.html#t:Get">Get</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int64">Int64</a> <a href="src/Data-Binary-Get-Internal.html#remaining" class="link">Source</a></p><div class="doc"><div class="warning"><p>Deprecated: This will force all remaining input, don't use it.</p></div><p>DEPRECATED. Get the number of bytes of remaining input.
 Note that this is an expensive function to use as in order to calculate how
 much input remains, all input has to be read and kept in-memory.
 The decoder keeps the input as a strict bytestring, so you are likely better
 off by calculating the remaining input in another way.</p></div></div><div class="top"><p class="src"><a name="v:getBytes" class="def">getBytes</a> :: <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="Data-Binary-Get.html#t:Get">Get</a> <a href="../bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a> <a href="src/Data-Binary-Get-Internal.html#getBytes" class="link">Source</a></p><div class="doc"><div class="warning"><p>Deprecated: Use <code><a href="Data-Binary-Get.html#v:getByteString">getByteString</a></code> instead of <code><a href="Data-Binary-Get.html#v:getBytes">getBytes</a></code>.</p></div><p>DEPRECATED. Same as <code><a href="Data-Binary-Get.html#v:getByteString">getByteString</a></code>.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>